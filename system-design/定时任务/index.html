<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Javaå®šæ—¶ä»»åŠ¡å¤§æ­ç§˜ | JavaGuide</title>
    <meta name="generator" content="VuePress 1.9.5">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <script>var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?5dd2e8c97962d57b7b8fea1737c01743";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();</script>
    <link rel="alternate" type="application/atom+xml" href="https://javaguide.cn/atom.xml" title="JavaGuide Atom Feed">
    <link rel="alternate" type="application/json" href="https://javaguide.cn/feed.json" title="JavaGuide JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://javaguide.cn/rss.xml" title="JavaGuide RSS Feed">
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192">
    <link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png">
    <meta name="description" content="Javaå­¦ä¹ &amp;&amp;é¢è¯•æŒ‡å—">
    <meta property="og:url" content="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1.html">
    <meta property="og:site_name" content="JavaGuide">
    <meta property="og:title" content="Javaå®šæ—¶ä»»åŠ¡å¤§æ­ç§˜">
    <meta property="og:description" content="Javaå®šæ—¶ä»»åŠ¡å¤§æ­ç§˜ ä¸ºä»€ä¹ˆéœ€è¦å®šæ—¶ä»»åŠ¡ï¼Ÿ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å‡ ä¸ªéå¸¸å¸¸è§çš„ä¸šåŠ¡åœºæ™¯ï¼š 1. æŸç³»ç»Ÿå‡Œæ™¨è¦è¿›è¡Œæ•°æ®å¤‡ä»½ã€‚ 2. æŸç”µå•†å¹³å°ï¼Œç”¨æˆ·ä¸‹å•åŠä¸ªå°æ—¶æœªæ”¯ä»˜çš„æƒ…å†µä¸‹éœ€è¦è‡ªåŠ¨å–æ¶ˆè®¢å•ã€‚ 3. æŸåª’ä½“èšåˆå¹³å°ï¼Œæ¯ 10 åˆ†é’ŸåŠ¨æ€æŠ“å–æŸæŸç½‘ç«™çš„æ•°æ®ä¸ºè‡ªå·±æ‰€ç”¨ã€‚ 4. æŸåšå®¢å¹³å°ï¼Œæ”¯æŒå®šæ—¶å‘é€æ–‡ç« ã€‚ 5. æŸåŸºé‡‘å¹³å°ï¼Œæ¯æ™šå®šæ—¶è®¡ç®—ç”¨æˆ·å½“æ—¥æ”¶ç›Šæƒ…å†µå¹¶æ¨é€ç»™ç”¨æˆ·æœ€æ–°çš„">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="zh-CN">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="JavaGuide">
    <meta property="article:author" content="Guideå“¥">
    <meta name="theme-color" content="#46bd87">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.293b0147.css" as="style"><link rel="preload" href="/assets/js/app.0ac6bc9d.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Layout.60c6a103.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.54625138.js" as="script"><link rel="preload" href="/assets/js/page-Javaå®šæ—¶ä»»åŠ¡å¤§æ­ç§˜.a589b73f.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.f6a6e44f.js" as="script">
    <link rel="stylesheet" href="/assets/css/0.styles.293b0147.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="JavaGuide" class="logo"> <!----> <span class="site-name can-hide">JavaGuide</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button tabindex="-1" aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">ä¸»é¢˜è‰²:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">ä¸»é¢˜æ¨¡å¼:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/home.html" class="nav-link"><i class="iconfont icon-java"></i>
  Javaé¢è¯•æŒ‡å—
</a></div><div class="nav-item"><a href="https://sourl.cn/e7ee87" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont icon-java"></i>
  Javaé¢è¯•æŒ‡åŒ—
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å¼€å‘å·¥å…·" class="dropdown-title"><span class="title"><i class="iconfont icon-Tools"></i>
        å¼€å‘å·¥å…·
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/tools/database/chiner/" class="nav-link"><i class="iconfont icon-database"></i>
  Database
</a></li><li class="dropdown-item"><a href="/tools/git/git-intro/" class="nav-link"><i class="iconfont icon-git"></i>
  Git
</a></li><li class="dropdown-item"><a href="/tools/docker/docker-intro/" class="nav-link"><i class="iconfont icon-docker1"></i>
  Docker
</a></li><li class="dropdown-item"><a href="/idea-tutorial/" class="nav-link"><i class="iconfont icon-intellijidea"></i>
  IntelliJ IDEA
</a></li></ul></div></div><div class="nav-item"><a href="/about-the-author/" class="nav-link"><i class="iconfont icon-zuozhe"></i>
  å…³äºä½œè€…
</a></div></nav> <!----> <a rel="noopener noreferrer" href="https://github.com/Snailclimb/JavaGuide" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" role="navigation" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="/logo.png" class="avatar round"> <div property="name" class="name">Guideå“¥</div> <meta property="url" content="/about-the-author/"></div> <div class="num-wrapper"><div><div class="num">149</div> <div>æ–‡ç« </div></div> <div><div class="num">7</div> <div>åˆ†ç±»</div></div> <div><div class="num">25</div> <div>æ ‡ç­¾</div></div> <div><div class="num">149</div> <div>æ—¶é—´è½´</div></div></div> <div class="media-links-wrapper"><a href="https://www.zhihu.com/people/javaguide" rel="noopener noreferrer" target="_blank" aria-label="Zhihu" data-balloon-pos="up" class="media-link"><span class="sr-only">Zhihu</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-zhihu"><circle cx="512" cy="512" r="512" fill="#006CE2"></circle> <path d="M513.65 491.261H411.551c1.615-16.154 5.815-60.095 5.815-84.973 0-24.88-.323-60.742-.323-60.742h102.744V329.39c0-21.647-9.37-31.34-17.124-31.34h-178.67s5.169-17.77 10.015-36.186c4.846-18.417 15.832-44.264 15.832-44.264-63.003 4.2-67.958 50.941-81.743 92.729-13.787 41.785-24.556 62.356-44.586 107.912 27.786 0 55.249-13.57 66.879-32.309 11.631-18.74 16.908-40.71 16.908-40.71h62.035v59.019c0 21.107-3.878 87.45-3.878 87.45H254.742c-19.386 0-29.724 48.894-29.724 48.894h133.76c-8.4 75.82-26.493 106.191-51.91 152.716-25.418 46.525-92.728 99.406-92.728 99.406 41.033 11.63 86.589-3.555 105.974-21.972 19.386-18.417 35.863-49.756 47.817-72.838 11.954-23.081 21.972-65.124 21.972-65.124L498.462 766.86s4.846-24.233 6.461-39.418c1.616-15.186-.755-26.385-4.63-35.433-3.878-9.046-15.509-21.54-31.018-39.634-15.507-18.094-48.034-52.879-48.034-52.879s-15.832 11.63-28.108 21.001c9.046-21.97 16.262-79.695 16.262-79.695h122.343v-20.249c.003-17.66-7.319-29.29-18.089-29.29zm287.337-200.747h-234.35a4.308 4.308 0 0 0-4.309 4.308v435.099a4.308 4.308 0 0 0 4.308 4.308h40.226l14.7 50.402 81.096-50.402h98.328a4.308 4.308 0 0 0 4.308-4.308v-435.1a4.308 4.308 0 0 0-4.308-4.308zM755.97 684.47h-52.343l-61.548 39.095-10.823-39.095h-18.738V338.116H755.97v346.355z" fill="#FFF"></path></svg></a><a href="https://github.com/Snailclimb" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="https://gitee.com/SnailClimb" rel="noopener noreferrer" target="_blank" aria-label="Gitee" data-balloon-pos="up" class="media-link"><span class="sr-only">Gitee</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-gitee"><circle cx="512" cy="512" r="512" fill="#C71D23"></circle> <path d="M772.953 454.723H480.17v.006a25.46 25.46 0 0 0-25.46 25.453l-.025 63.649a25.46 25.46 0 0 0 25.46 25.466l178.242-.007a25.46 25.46 0 0 1 25.459 25.46v12.73c0 42.18-34.198 76.378-76.378 76.378H365.583a25.46 25.46 0 0 1-25.46-25.46V416.533h-.006c0-42.18 34.192-76.378 76.378-76.378h356.388v-.013a25.46 25.46 0 0 0 25.46-25.446l.057-63.65h.013a25.46 25.46 0 0 0-25.46-25.471l-356.432.012c-105.453 0-190.946 85.493-190.946 190.946v356.433a25.46 25.46 0 0 0 25.46 25.46H626.56c94.913 0 171.852-76.94 171.852-171.852V480.182a25.46 25.46 0 0 0-25.46-25.46z" fill="#fff"></path></svg></a></div></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/home.html" class="nav-link"><i class="iconfont icon-java"></i>
  Javaé¢è¯•æŒ‡å—
</a></div><div class="nav-item"><a href="https://sourl.cn/e7ee87" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont icon-java"></i>
  Javaé¢è¯•æŒ‡åŒ—
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="å¼€å‘å·¥å…·" class="dropdown-title"><span class="title"><i class="iconfont icon-Tools"></i>
      å¼€å‘å·¥å…·
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/database/chiner/" class="nav-link"><i class="iconfont icon-database"></i>
  Database
</a></li><li class="dropdown-item"><!----> <a href="/tools/git/git-intro/" class="nav-link"><i class="iconfont icon-git"></i>
  Git
</a></li><li class="dropdown-item"><!----> <a href="/tools/docker/docker-intro/" class="nav-link"><i class="iconfont icon-docker1"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/idea-tutorial/" class="nav-link"><i class="iconfont icon-intellijidea"></i>
  IntelliJ IDEA
</a></li></ul></div></div><div class="nav-item"><a href="/about-the-author/" class="nav-link"><i class="iconfont icon-zuozhe"></i>
  å…³äºä½œè€…
</a></div> <a rel="noopener noreferrer" href="https://github.com/Snailclimb/JavaGuide" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-java"></i> <span class="title">Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-computer"></i> <span class="title">è®¡ç®—æœºåŸºç¡€</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-database"></i> <span class="title">æ•°æ®åº“</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable open"><i class="iconfont icon-xitongsheji"></i> <span class="title">ç³»ç»Ÿè®¾è®¡</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading clickable open"><i class="iconfont icon-jibendebasic"></i> <span class="title">åŸºç¡€</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/system-design/basis/RESTfulAPI/" class="sidebar-link">RestFul API ç®€æ˜æ•™ç¨‹</a></li><li><a href="/system-design/basis/naming/" class="sidebar-link">Java å‘½åä¹‹é“</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading clickable"><i class="iconfont icon-framework"></i> <span class="title">å¸¸ç”¨æ¡†æ¶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading clickable"><i class="iconfont icon-security-fill"></i> <span class="title">å®‰å…¨</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/" aria-current="page" class="active sidebar-link">Javaå®šæ—¶ä»»åŠ¡å¤§æ­ç§˜</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#ä¸ºä»€ä¹ˆéœ€è¦å®šæ—¶ä»»åŠ¡" class="sidebar-link">ä¸ºä»€ä¹ˆéœ€è¦å®šæ—¶ä»»åŠ¡ï¼Ÿ</a></li><li class="sidebar-sub-header"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#å•æœºå®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹" class="sidebar-link">å•æœºå®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#timer" class="sidebar-link heading3">Timer</a></li><li class="sidebar-sub-header"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#scheduledexecutorservice" class="sidebar-link heading3">ScheduledExecutorService</a></li><li class="sidebar-sub-header"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#spring-task" class="sidebar-link heading3">Spring Task</a></li><li class="sidebar-sub-header"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#æ—¶é—´è½®" class="sidebar-link heading3">æ—¶é—´è½®</a></li></ul></li><li class="sidebar-sub-header"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹" class="sidebar-link">åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#quartz" class="sidebar-link heading3">Quartz</a></li><li class="sidebar-sub-header"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#elastic-job" class="sidebar-link heading3">Elastic-Job</a></li><li class="sidebar-sub-header"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#xxl-job" class="sidebar-link heading3">XXL-JOB</a></li><li class="sidebar-sub-header"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#powerjob" class="sidebar-link heading3">PowerJob</a></li></ul></li><li class="sidebar-sub-header"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#æ€»ç»“" class="sidebar-link">æ€»ç»“</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-distributed-network"></i> <span class="title">åˆ†å¸ƒå¼</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-gaojixiaozuzhibeifen"></i> <span class="title">é«˜æ€§èƒ½</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading clickable"><i class="iconfont icon-CalendarAvailability-1"></i> <span class="title">é«˜å¯ç”¨</span> <span class="arrow right"></span></p> <!----></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">Javaå®šæ—¶ä»»åŠ¡å¤§æ­ç§˜</span></h1> <div class="page-info"><!----> <!----><!----><span aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2022-1-5</span></span><!----><!----><span aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>å¤§çº¦ 13 åˆ†é’Ÿ</span> <meta property="timeRequired" content="PT13M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#ä¸ºä»€ä¹ˆéœ€è¦å®šæ—¶ä»»åŠ¡" class="anchor-link heading2"><div>ä¸ºä»€ä¹ˆéœ€è¦å®šæ—¶ä»»åŠ¡ï¼Ÿ</div></a></li><li class="anchor"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#å•æœºå®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹" class="anchor-link heading2"><div>å•æœºå®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹</div></a></li><li class="anchor"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#timer" class="anchor-link heading3"><div>Timer</div></a></li><li class="anchor"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#scheduledexecutorservice" class="anchor-link heading3"><div>ScheduledExecutorService</div></a></li><li class="anchor"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#spring-task" class="anchor-link heading3"><div>Spring Task</div></a></li><li class="anchor"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#æ—¶é—´è½®" class="anchor-link heading3"><div>æ—¶é—´è½®</div></a></li><li class="anchor"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹" class="anchor-link heading2"><div>åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹</div></a></li><li class="anchor"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#quartz" class="anchor-link heading3"><div>Quartz</div></a></li><li class="anchor"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#elastic-job" class="anchor-link heading3"><div>Elastic-Job</div></a></li><li class="anchor"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#xxl-job" class="anchor-link heading3"><div>XXL-JOB</div></a></li><li class="anchor"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#powerjob" class="anchor-link heading3"><div>PowerJob</div></a></li><li class="anchor"><a href="/system-design/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/#æ€»ç»“" class="anchor-link heading2"><div>æ€»ç»“</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="javaå®šæ—¶ä»»åŠ¡å¤§æ­ç§˜"><a href="#javaå®šæ—¶ä»»åŠ¡å¤§æ­ç§˜" class="header-anchor">#</a> Javaå®šæ—¶ä»»åŠ¡å¤§æ­ç§˜</h1> <h2 id="ä¸ºä»€ä¹ˆéœ€è¦å®šæ—¶ä»»åŠ¡"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å®šæ—¶ä»»åŠ¡" class="header-anchor">#</a> ä¸ºä»€ä¹ˆéœ€è¦å®šæ—¶ä»»åŠ¡ï¼Ÿ</h2> <p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å‡ ä¸ªéå¸¸å¸¸è§çš„ä¸šåŠ¡åœºæ™¯ï¼š</p> <ol><li>æŸç³»ç»Ÿå‡Œæ™¨è¦è¿›è¡Œæ•°æ®å¤‡ä»½ã€‚</li> <li>æŸç”µå•†å¹³å°ï¼Œç”¨æˆ·ä¸‹å•åŠä¸ªå°æ—¶æœªæ”¯ä»˜çš„æƒ…å†µä¸‹éœ€è¦è‡ªåŠ¨å–æ¶ˆè®¢å•ã€‚</li> <li>æŸåª’ä½“èšåˆå¹³å°ï¼Œæ¯ 10 åˆ†é’ŸåŠ¨æ€æŠ“å–æŸæŸç½‘ç«™çš„æ•°æ®ä¸ºè‡ªå·±æ‰€ç”¨ã€‚</li> <li>æŸåšå®¢å¹³å°ï¼Œæ”¯æŒå®šæ—¶å‘é€æ–‡ç« ã€‚</li> <li>æŸåŸºé‡‘å¹³å°ï¼Œæ¯æ™šå®šæ—¶è®¡ç®—ç”¨æˆ·å½“æ—¥æ”¶ç›Šæƒ…å†µå¹¶æ¨é€ç»™ç”¨æˆ·æœ€æ–°çš„æ•°æ®ã€‚</li> <li>......</li></ol> <p>è¿™äº›åœºæ™¯å¾€å¾€éƒ½è¦æ±‚æˆ‘ä»¬åœ¨æŸä¸ªç‰¹å®šçš„æ—¶é—´å»åšæŸä¸ªäº‹æƒ…ã€‚</p> <h2 id="å•æœºå®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹"><a href="#å•æœºå®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹" class="header-anchor">#</a> å•æœºå®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹</h2> <h3 id="timer"><a href="#timer" class="header-anchor">#</a> Timer</h3> <p><code>java.util.Timer</code>æ˜¯ JDK 1.3 å¼€å§‹å°±å·²ç»æ”¯æŒçš„ä¸€ç§å®šæ—¶ä»»åŠ¡çš„å®ç°æ–¹å¼ã€‚</p> <p><code>Timer</code> å†…éƒ¨ä½¿ç”¨ä¸€ä¸ªå«åš <code>TaskQueue</code> çš„ç±»å­˜æ”¾å®šæ—¶ä»»åŠ¡ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºäºæœ€å°å †å®ç°çš„ä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚<code>TaskQueue</code> ä¼šæŒ‰ç…§ä»»åŠ¡è·ç¦»ä¸‹ä¸€æ¬¡æ‰§è¡Œæ—¶é—´çš„å¤§å°å°†ä»»åŠ¡æ’åºï¼Œä¿è¯åœ¨å †é¡¶çš„ä»»åŠ¡æœ€å…ˆæ‰§è¡Œã€‚è¿™æ ·åœ¨éœ€è¦æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œæ¯æ¬¡åªéœ€è¦å–å‡ºå †é¡¶çš„ä»»åŠ¡è¿è¡Œå³å¯ï¼</p> <p><code>Timer</code> ä½¿ç”¨èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œé€šè¿‡ä¸‹é¢çš„æ–¹å¼æˆ‘ä»¬å°±èƒ½åˆ›å»ºä¸€ä¸ª 1s ä¹‹åæ‰§è¡Œçš„å®šæ—¶ä»»åŠ¡ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// ç¤ºä¾‹ä»£ç ï¼š</span>
<span class="token class-name">TimerTask</span> task <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å½“å‰æ—¶é—´: &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;çº¿ç¨‹åç§°: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å½“å‰æ—¶é—´: &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;n&quot;</span> <span class="token operator">+</span>
        <span class="token string">&quot;çº¿ç¨‹åç§°: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Timer</span> timer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Timer</span><span class="token punctuation">(</span><span class="token string">&quot;Timer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> delay <span class="token operator">=</span> <span class="token number">1000L</span><span class="token punctuation">;</span>
timer<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span>task<span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//è¾“å‡ºï¼š</span>
å½“å‰æ—¶é—´<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">18</span><span class="token operator">:</span><span class="token number">47</span> CST <span class="token number">2021</span>nçº¿ç¨‹åç§°<span class="token operator">:</span> main
å½“å‰æ—¶é—´<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">18</span><span class="token operator">:</span><span class="token number">48</span> CST <span class="token number">2021</span>nçº¿ç¨‹åç§°<span class="token operator">:</span> <span class="token class-name">Timer</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>ä¸è¿‡å…¶ç¼ºé™·è¾ƒå¤šï¼Œæ¯”å¦‚ä¸€ä¸ª <code>Timer</code> ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™å°±å¯¼è‡´ <code>Timer</code> çš„ä»»åŠ¡çš„æ‰§è¡Œåªèƒ½ä¸²è¡Œæ‰§è¡Œï¼Œä¸€ä¸ªä»»åŠ¡æ‰§è¡Œæ—¶é—´è¿‡é•¿çš„è¯ä¼šå½±å“å…¶ä»–ä»»åŠ¡ï¼ˆæ€§èƒ½éå¸¸å·®ï¼‰ï¼Œå†æ¯”å¦‚å‘ç”Ÿå¼‚å¸¸æ—¶ä»»åŠ¡ç›´æ¥åœæ­¢ï¼ˆ<code>Timer</code> åªæ•è·äº† <code>InterruptedException</code> ï¼‰ã€‚</p> <p><code>Timer</code> ç±»ä¸Šçš„æœ‰ä¸€æ®µæ³¨é‡Šæ˜¯è¿™æ ·å†™çš„ï¼š</p> <div class="language-JAVA line-numbers-mode"><pre class="language-java"><code> <span class="token operator">*</span> <span class="token class-name">This</span> <span class="token keyword">class</span> does not offer real<span class="token operator">-</span>time guarantees<span class="token operator">:</span> it schedules
 <span class="token operator">*</span> tasks using the <span class="token generics"><span class="token punctuation">&lt;</span>tt<span class="token punctuation">&gt;</span></span><span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>tt<span class="token operator">&gt;</span> method<span class="token punctuation">.</span>
 <span class="token operator">*</span><span class="token class-name">Java</span> <span class="token number">5.0</span> introduced the <span class="token punctuation">{</span><span class="token annotation punctuation">@code</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">}</span> <span class="token keyword">package</span> <span class="token namespace">and</span>
 <span class="token operator">*</span> one of the concurrency utilities therein is the <span class="token punctuation">{</span><span class="token annotation punctuation">@link</span>
 <span class="token operator">*</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>ScheduledThreadPoolExecutor</span>
 <span class="token operator">*</span> <span class="token class-name">ScheduledThreadPoolExecutor</span><span class="token punctuation">}</span> which is a thread pool <span class="token keyword">for</span> repeatedly
 <span class="token operator">*</span> executing tasks at a given rate or <span class="token class-name"><span class="token namespace">delay<span class="token punctuation">.</span></span>  It</span> is effectively a more
 <span class="token operator">*</span> versatile replacement <span class="token keyword">for</span> the <span class="token punctuation">{</span><span class="token annotation punctuation">@code</span> <span class="token class-name">Timer</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">{</span><span class="token annotation punctuation">@code</span> <span class="token class-name">TimerTask</span><span class="token punctuation">}</span>
 <span class="token operator">*</span> combination<span class="token punctuation">,</span> as it allows multiple service threads<span class="token punctuation">,</span> accepts various
 <span class="token operator">*</span> time units<span class="token punctuation">,</span> and doesn't require subclassing <span class="token punctuation">{</span><span class="token annotation punctuation">@code</span> <span class="token class-name">TimerTask</span><span class="token punctuation">}</span> <span class="token punctuation">(</span>just
 <span class="token operator">*</span> implement <span class="token punctuation">{</span><span class="token annotation punctuation">@code</span> <span class="token class-name">Runnable</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>  <span class="token class-name">Configuring</span> <span class="token punctuation">{</span><span class="token annotation punctuation">@code</span>
 <span class="token operator">*</span> <span class="token class-name">ScheduledThreadPoolExecutor</span><span class="token punctuation">}</span> <span class="token keyword">with</span> <span class="token namespace">one</span> thread makes it equivalent <span class="token keyword">to</span>
 <span class="token operator">*</span> <span class="token punctuation">{</span><span class="token annotation punctuation">@code</span> <span class="token class-name">Timer</span><span class="token punctuation">}</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>å¤§æ¦‚çš„æ„æ€å°±æ˜¯ï¼š <code>ScheduledThreadPoolExecutor</code> æ”¯æŒå¤šçº¿ç¨‹æ‰§è¡Œå®šæ—¶ä»»åŠ¡å¹¶ä¸”åŠŸèƒ½æ›´å¼ºå¤§ï¼Œæ˜¯ <code>Timer</code> çš„æ›¿ä»£å“ã€‚</p> <h3 id="scheduledexecutorservice"><a href="#scheduledexecutorservice" class="header-anchor">#</a> ScheduledExecutorService</h3> <p><code>ScheduledExecutorService</code> æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæœ‰å¤šä¸ªå®ç°ç±»ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ <code>ScheduledThreadPoolExecutor</code> ã€‚</p> <p><img src="https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/javaguide/20210607154324712.png" alt=""></p> <p><code>ScheduledThreadPoolExecutor</code> æœ¬èº«å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œæ”¯æŒä»»åŠ¡å¹¶å‘æ‰§è¡Œã€‚å¹¶ä¸”ï¼Œå…¶å†…éƒ¨ä½¿ç”¨ <code>DelayQueue</code> ä½œä¸ºä»»åŠ¡é˜Ÿåˆ—ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// ç¤ºä¾‹ä»£ç ï¼š</span>
<span class="token class-name">TimerTask</span> repeatedTask <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TimerTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@SneakyThrows</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å½“å‰æ—¶é—´: &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;çº¿ç¨‹åç§°: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å½“å‰æ—¶é—´: &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;n&quot;</span> <span class="token operator">+</span>
        <span class="token string">&quot;çº¿ç¨‹åç§°: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ScheduledExecutorService</span> executor <span class="token operator">=</span> <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">newScheduledThreadPool</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> delay  <span class="token operator">=</span> <span class="token number">1000L</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> period <span class="token operator">=</span> <span class="token number">1000L</span><span class="token punctuation">;</span>
executor<span class="token punctuation">.</span><span class="token function">scheduleAtFixedRate</span><span class="token punctuation">(</span>repeatedTask<span class="token punctuation">,</span> delay<span class="token punctuation">,</span> period<span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span>delay <span class="token operator">+</span> period <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
executor<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//è¾“å‡ºï¼š</span>
å½“å‰æ—¶é—´<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">46</span> CST <span class="token number">2021</span>nçº¿ç¨‹åç§°<span class="token operator">:</span> main
å½“å‰æ—¶é—´<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">47</span> CST <span class="token number">2021</span>nçº¿ç¨‹åç§°<span class="token operator">:</span> pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span>
å½“å‰æ—¶é—´<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">48</span> CST <span class="token number">2021</span>nçº¿ç¨‹åç§°<span class="token operator">:</span> pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">1</span>
å½“å‰æ—¶é—´<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">49</span> CST <span class="token number">2021</span>nçº¿ç¨‹åç§°<span class="token operator">:</span> pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">2</span>
å½“å‰æ—¶é—´<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">50</span> CST <span class="token number">2021</span>nçº¿ç¨‹åç§°<span class="token operator">:</span> pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">2</span>
å½“å‰æ—¶é—´<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">51</span> CST <span class="token number">2021</span>nçº¿ç¨‹åç§°<span class="token operator">:</span> pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">2</span>
å½“å‰æ—¶é—´<span class="token operator">:</span> <span class="token class-name">Fri</span> <span class="token class-name">May</span> <span class="token number">28</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">52</span> CST <span class="token number">2021</span>nçº¿ç¨‹åç§°<span class="token operator">:</span> pool<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>thread<span class="token operator">-</span><span class="token number">2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>ä¸è®ºæ˜¯ä½¿ç”¨ <code>Timer</code> è¿˜æ˜¯ <code>ScheduledExecutorService</code> éƒ½æ— æ³•ä½¿ç”¨ Cron è¡¨è¾¾å¼æŒ‡å®šä»»åŠ¡æ‰§è¡Œçš„å…·ä½“æ—¶é—´ã€‚</p> <h3 id="spring-task"><a href="#spring-task" class="header-anchor">#</a> Spring Task</h3> <p><img src="https://img-blog.csdnimg.cn/20210528145056880.png" alt=""></p> <p>æˆ‘ä»¬ç›´æ¥é€šè¿‡ Spring æä¾›çš„ <code>@Scheduled</code> æ³¨è§£å³å¯å®šä¹‰å®šæ—¶ä»»åŠ¡ï¼Œéå¸¸æ–¹ä¾¿ï¼</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * cronï¼šä½¿ç”¨Cronè¡¨è¾¾å¼ã€‚ã€€æ¯åˆ†é’Ÿçš„1ï¼Œ2ç§’è¿è¡Œ
 */</span>
<span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">=</span> <span class="token string">&quot;1-2 * * * * ? &quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">reportCurrentTimeWithCronExpression</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Cron Expression: The time is now {}&quot;</span><span class="token punctuation">,</span> dateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>æˆ‘åœ¨å¤§å­¦é‚£ä¼šåšçš„ä¸€ä¸ª SSM çš„ä¼ä¸šçº§é¡¹ç›®ï¼Œå°±æ˜¯ç”¨çš„ Spring Task æ¥åšçš„å®šæ—¶ä»»åŠ¡ã€‚</p> <p>å¹¶ä¸”ï¼ŒSpring Task è¿˜æ˜¯æ”¯æŒ <strong>Cron è¡¨è¾¾å¼</strong> çš„ã€‚Cron è¡¨è¾¾å¼ä¸»è¦ç”¨äºå®šæ—¶ä½œä¸š(å®šæ—¶ä»»åŠ¡)ç³»ç»Ÿå®šä¹‰æ‰§è¡Œæ—¶é—´æˆ–æ‰§è¡Œé¢‘ç‡çš„è¡¨è¾¾å¼ï¼Œéå¸¸å‰å®³ï¼Œä½ å¯ä»¥é€šè¿‡ Cron è¡¨è¾¾å¼è¿›è¡Œè®¾ç½®å®šæ—¶ä»»åŠ¡æ¯å¤©æˆ–è€…æ¯ä¸ªæœˆä»€ä¹ˆæ—¶å€™æ‰§è¡Œç­‰ç­‰æ“ä½œã€‚å’±ä»¬è¦å­¦ä¹ å®šæ—¶ä»»åŠ¡çš„è¯ï¼ŒCron è¡¨è¾¾å¼æ˜¯ä¸€å®šæ˜¯è¦é‡ç‚¹å…³æ³¨çš„ã€‚æ¨èä¸€ä¸ªåœ¨çº¿ Cron è¡¨è¾¾å¼ç”Ÿæˆå™¨ï¼š<a href="http://cron.qqe2.com/" target="_blank" rel="noopener noreferrer">http://cron.qqe2.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ã€‚</p> <p>ä½†æ˜¯ï¼ŒSpring è‡ªå¸¦çš„å®šæ—¶è°ƒåº¦åªæ”¯æŒå•æœºï¼Œå¹¶ä¸”æä¾›çš„åŠŸèƒ½æ¯”è¾ƒå•ä¸€ã€‚ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« :<a href="https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&amp;mid=2247485563&amp;idx=1&amp;sn=7419341f04036a10b141b74624a3f8c9&amp;chksm=cea247b0f9d5cea6440759e6d49b4e77d06f4c99470243a10c1463834e873ca90266413fbc92&amp;token=2133161636&amp;lang=zh_CN#rd" target="_blank" rel="noopener noreferrer">ã€Š5 åˆ†é’Ÿææ‡‚å¦‚ä½•åœ¨ Spring Boot ä¸­ Schedule Tasksã€‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ï¼Œä¸äº†è§£çš„å°ä¼™ä¼´å¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚</p> <p>Spring Task åº•å±‚æ˜¯åŸºäº JDK çš„ <code>ScheduledThreadPoolExecutor</code> çº¿ç¨‹æ± æ¥å®ç°çš„ã€‚</p> <p><strong>ä¼˜ç¼ºç‚¹æ€»ç»“ï¼š</strong></p> <ul><li>ä¼˜ç‚¹ï¼š ç®€å•ï¼Œè½»é‡ï¼Œæ”¯æŒ Cron è¡¨è¾¾å¼</li> <li>ç¼ºç‚¹ ï¼šåŠŸèƒ½å•ä¸€</li></ul> <h3 id="æ—¶é—´è½®"><a href="#æ—¶é—´è½®" class="header-anchor">#</a> æ—¶é—´è½®</h3> <p>Kafkaã€Dubboã€ZooKeeperã€Netty ã€Caffeine ã€Akka ä¸­éƒ½æœ‰å¯¹æ—¶é—´è½®çš„å®ç°ã€‚</p> <p>æ—¶é—´è½®ç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªç¯å½¢çš„é˜Ÿåˆ—ï¼ˆåº•å±‚ä¸€èˆ¬åŸºäºæ•°ç»„å®ç°ï¼‰ï¼Œé˜Ÿåˆ—ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼ˆæ—¶é—´æ ¼ï¼‰éƒ½å¯ä»¥å­˜æ”¾ä¸€ä¸ªå®šæ—¶ä»»åŠ¡åˆ—è¡¨ã€‚</p> <p>æ—¶é—´è½®ä¸­çš„æ¯ä¸ªæ—¶é—´æ ¼ä»£è¡¨äº†æ—¶é—´è½®çš„åŸºæœ¬æ—¶é—´è·¨åº¦æˆ–è€…è¯´æ—¶é—´ç²¾åº¦ï¼ŒåŠ å…¥æ—¶é—´ä¸€ç§’èµ°ä¸€ä¸ªæ—¶é—´æ ¼çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶é—´è½®çš„æœ€é«˜ç²¾åº¦å°±æ˜¯ 1 ç§’ï¼ˆä¹Ÿå°±æ˜¯è¯´ 3 s å’Œ 3.9s ä¼šåœ¨åŒä¸€ä¸ªæ—¶é—´æ ¼ä¸­ï¼‰ã€‚</p> <p>ä¸‹å›¾æ˜¯ä¸€ä¸ªæœ‰ 12 ä¸ªæ—¶é—´æ ¼çš„æ—¶é—´è½®ï¼Œè½¬å®Œä¸€åœˆéœ€è¦ 12 sã€‚å½“æˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ª 3s åæ‰§è¡Œçš„å®šæ—¶ä»»åŠ¡ï¼Œåªéœ€è¦å°†å®šæ—¶ä»»åŠ¡æ”¾åœ¨ä¸‹æ ‡ä¸º 3 çš„æ—¶é—´æ ¼ä¸­å³å¯ã€‚å½“æˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ª 9s åæ‰§è¡Œçš„å®šæ—¶ä»»åŠ¡ï¼Œåªéœ€è¦å°†å®šæ—¶ä»»åŠ¡æ”¾åœ¨ä¸‹æ ‡ä¸º 9 çš„æ—¶é—´æ ¼ä¸­å³å¯ã€‚</p> <p><img src="https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/javaguide/20210607171334861.png" alt=""></p> <p>é‚£å½“æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª 13s åæ‰§è¡Œçš„å®šæ—¶ä»»åŠ¡æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™å¯ä»¥å¼•å…¥ä¸€å«åš <strong>åœˆæ•°/è½®æ•°</strong> çš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªä»»åŠ¡è¿˜æ˜¯æ”¾åœ¨ä¸‹æ ‡ä¸º 3 çš„æ—¶é—´æ ¼ä¸­ï¼Œ ä¸è¿‡å®ƒçš„åœˆæ•°ä¸º 2 ã€‚</p> <p>é™¤äº†å¢åŠ åœˆæ•°è¿™ç§æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç§ <strong>å¤šå±‚æ¬¡æ—¶é—´è½®</strong> ï¼ˆç±»ä¼¼æ‰‹è¡¨ï¼‰ï¼ŒKafka é‡‡ç”¨çš„å°±æ˜¯è¿™ç§æ–¹æ¡ˆã€‚</p> <p>é’ˆå¯¹ä¸‹å›¾çš„æ—¶é—´è½®ï¼Œæˆ‘æ¥ä¸¾ä¸€ä¸ªä¾‹å­ä¾¿äºå¤§å®¶ç†è§£ã€‚</p> <p><img src="https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/javaguide/20210607193042151.png" alt=""></p> <p>ä¸Šå›¾çš„æ—¶é—´è½®ï¼Œç¬¬ 1 å±‚çš„æ—¶é—´ç²¾åº¦ä¸º 1 ï¼Œç¬¬ 2 å±‚çš„æ—¶é—´ç²¾åº¦ä¸º 20 ï¼Œç¬¬ 3 å±‚çš„æ—¶é—´ç²¾åº¦ä¸º 400ã€‚å‡å¦‚æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ª 350s åæ‰§è¡Œçš„ä»»åŠ¡ A çš„è¯ï¼ˆå½“å‰æ—¶é—´æ˜¯ 0sï¼‰ï¼Œè¿™ä¸ªä»»åŠ¡ä¼šè¢«æ”¾åœ¨ç¬¬ 2 å±‚ï¼ˆå› ä¸ºç¬¬äºŒå±‚çš„æ—¶é—´è·¨åº¦ä¸º 20*20=400&gt;350ï¼‰çš„ç¬¬ 350/20=17 ä¸ªæ—¶é—´æ ¼å­ã€‚</p> <p>å½“ç¬¬ä¸€å±‚è½¬äº† 17 åœˆä¹‹åï¼Œæ—¶é—´è¿‡å»äº† 340s ï¼Œç¬¬ 2 å±‚çš„æŒ‡é’ˆæ­¤æ—¶æ¥åˆ°ç¬¬ 17 ä¸ªæ—¶é—´æ ¼å­ã€‚æ­¤æ—¶ï¼Œç¬¬ 2 å±‚ç¬¬ 17 ä¸ªæ ¼å­çš„ä»»åŠ¡ä¼šè¢«ç§»åŠ¨åˆ°ç¬¬ 1 å±‚ã€‚</p> <p>ä»»åŠ¡ A å½“å‰æ˜¯ 10s ä¹‹åæ‰§è¡Œï¼Œå› æ­¤å®ƒä¼šè¢«ç§»åŠ¨åˆ°ç¬¬ 1 å±‚çš„ç¬¬ 10 ä¸ªæ—¶é—´æ ¼å­ã€‚</p> <p>è¿™é‡Œåœ¨å±‚ä¸å±‚ä¹‹é—´çš„ç§»åŠ¨ä¹Ÿå«åšæ—¶é—´è½®çš„å‡é™çº§ã€‚å‚è€ƒæ‰‹è¡¨æ¥ç†è§£å°±å¥½ï¼</p> <p><img src="https://img-blog.csdnimg.cn/20210607195206797.png" alt=""></p> <p><strong>æ—¶é—´è½®æ¯”è¾ƒé€‚åˆä»»åŠ¡æ•°é‡æ¯”è¾ƒå¤šçš„å®šæ—¶ä»»åŠ¡åœºæ™¯ï¼Œå®ƒçš„ä»»åŠ¡å†™å…¥å’Œæ‰§è¡Œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ 0ï¼ˆ1ï¼‰ã€‚</strong></p> <h2 id="åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹"><a href="#åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹" class="header-anchor">#</a> åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡æŠ€æœ¯é€‰å‹</h2> <p>ä¸Šé¢æåˆ°çš„ä¸€äº›å®šæ—¶ä»»åŠ¡çš„è§£å†³æ–¹æ¡ˆéƒ½æ˜¯åœ¨å•æœºä¸‹æ‰§è¡Œçš„ï¼Œé€‚ç”¨äºæ¯”è¾ƒç®€å•çš„å®šæ—¶ä»»åŠ¡åœºæ™¯æ¯”å¦‚æ¯å¤©å‡Œæ™¨å¤‡ä»½ä¸€æ¬¡æ•°æ®ã€‚</p> <p>å¦‚æœæˆ‘ä»¬éœ€è¦ä¸€äº›é«˜çº§ç‰¹æ€§æ¯”å¦‚æ”¯æŒä»»åŠ¡åœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸‹çš„åˆ†ç‰‡å’Œé«˜å¯ç”¨çš„è¯ï¼Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦æ¡†æ¶äº†ã€‚</p> <p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå®šæ—¶ä»»åŠ¡çš„æ‰§è¡Œå¾€å¾€æ¶‰åŠåˆ°ä¸‹é¢è¿™äº›è§’è‰²ï¼š</p> <ul><li><strong>ä»»åŠ¡</strong> ï¼š é¦–å…ˆè‚¯å®šæ˜¯è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œè¿™ä¸ªä»»åŠ¡å°±æ˜¯å…·ä½“çš„ä¸šåŠ¡é€»è¾‘æ¯”å¦‚å®šæ—¶å‘é€æ–‡ç« ã€‚</li> <li><strong>è°ƒåº¦å™¨</strong> ï¼šå…¶æ¬¡æ˜¯è°ƒåº¦ä¸­å¿ƒï¼Œè°ƒåº¦ä¸­å¿ƒä¸»è¦è´Ÿè´£ä»»åŠ¡ç®¡ç†ï¼Œä¼šåˆ†é…ä»»åŠ¡ç»™æ‰§è¡Œå™¨ã€‚</li> <li><strong>æ‰§è¡Œå™¨</strong> ï¼š æœ€åå°±æ˜¯æ‰§è¡Œå™¨ï¼Œæ‰§è¡Œå™¨æ¥æ”¶è°ƒåº¦å™¨åˆ†æ´¾çš„ä»»åŠ¡å¹¶æ‰§è¡Œã€‚</li></ul> <h3 id="quartz"><a href="#quartz" class="header-anchor">#</a> Quartz</h3> <p><img src="https://img-blog.csdnimg.cn/2021052814502425.png" alt=""></p> <p>ä¸€ä¸ªå¾ˆç«çš„å¼€æºä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œå®Œå…¨ç”±<code>Java</code>å†™æˆã€‚<code>Quartz</code> å¯ä»¥è¯´æ˜¯ Java å®šæ—¶ä»»åŠ¡é¢†åŸŸçš„è€å¤§å“¥æˆ–è€…è¯´å‚è€ƒæ ‡å‡†ï¼Œå…¶ä»–çš„ä»»åŠ¡è°ƒåº¦æ¡†æ¶åŸºæœ¬éƒ½æ˜¯åŸºäº <code>Quartz</code> å¼€å‘çš„ï¼Œæ¯”å¦‚å½“å½“ç½‘çš„<code>elastic-job</code>å°±æ˜¯åŸºäº<code>quartz</code>äºŒæ¬¡å¼€å‘ä¹‹åçš„åˆ†å¸ƒå¼è°ƒåº¦è§£å†³æ–¹æ¡ˆã€‚</p> <p>ä½¿ç”¨ <code>Quartz</code> å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¸ <code>Spring</code> é›†æˆï¼Œå¹¶ä¸”æ”¯æŒåŠ¨æ€æ·»åŠ ä»»åŠ¡å’Œé›†ç¾¤ã€‚ä½†æ˜¯ï¼Œ<code>Quartz</code> ä½¿ç”¨èµ·æ¥ä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼ŒAPI ç¹çã€‚</p> <p>å¹¶ä¸”ï¼Œ<code>Quzrtz</code> å¹¶æ²¡æœ‰å†…ç½® UI ç®¡ç†æ§åˆ¶å°ï¼Œä¸è¿‡ä½ å¯ä»¥ä½¿ç”¨ <a href="https://github.com/zhaopeiym/quartzui" target="_blank" rel="noopener noreferrer">quartzui<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> è¿™ä¸ªå¼€æºé¡¹ç›®æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p> <p>å¦å¤–ï¼Œ<code>Quartz</code> è™½ç„¶ä¹Ÿæ”¯æŒåˆ†å¸ƒå¼ä»»åŠ¡ã€‚ä½†æ˜¯ï¼Œå®ƒæ˜¯åœ¨æ•°æ®åº“å±‚é¢ï¼Œé€šè¿‡æ•°æ®åº“çš„é”æœºåˆ¶åšçš„ï¼Œæœ‰éå¸¸å¤šçš„å¼Šç«¯æ¯”å¦‚ç³»ç»Ÿä¾µå…¥æ€§ä¸¥é‡ã€èŠ‚ç‚¹è´Ÿè½½ä¸å‡è¡¡ã€‚æœ‰ç‚¹ä¼ªåˆ†å¸ƒå¼çš„å‘³é“ã€‚</p> <p><strong>ä¼˜ç¼ºç‚¹æ€»ç»“ï¼š</strong></p> <ul><li>ä¼˜ç‚¹ï¼š å¯ä»¥ä¸ <code>Spring</code> é›†æˆï¼Œå¹¶ä¸”æ”¯æŒåŠ¨æ€æ·»åŠ ä»»åŠ¡å’Œé›†ç¾¤ã€‚</li> <li>ç¼ºç‚¹ ï¼šåˆ†å¸ƒå¼æ”¯æŒä¸å‹å¥½ï¼Œæ²¡æœ‰å†…ç½® UI ç®¡ç†æ§åˆ¶å°ã€ä½¿ç”¨éº»çƒ¦ï¼ˆç›¸æ¯”äºå…¶ä»–åŒç±»å‹æ¡†æ¶æ¥è¯´ï¼‰</li></ul> <h3 id="elastic-job"><a href="#elastic-job" class="header-anchor">#</a> Elastic-Job</h3> <p><img src="https://img-blog.csdnimg.cn/20210528144508114.png" alt=""></p> <p><code>Elastic-Job</code> æ˜¯å½“å½“ç½‘å¼€æºçš„ä¸€ä¸ªåŸºäº<code>Quartz</code>å’Œ<code>ZooKeeper</code>çš„åˆ†å¸ƒå¼è°ƒåº¦è§£å†³æ–¹æ¡ˆï¼Œç”±ä¸¤ä¸ªç›¸äº’ç‹¬ç«‹çš„å­é¡¹ç›® <code>Elastic-Job-Lite</code> å’Œ <code>Elastic-Job-Cloud</code> ç»„æˆï¼Œä¸€èˆ¬æˆ‘ä»¬åªè¦ä½¿ç”¨ <code>Elastic-Job-Lite</code> å°±å¥½ã€‚</p> <p><code>ElasticJob</code> æ”¯æŒä»»åŠ¡åœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸‹çš„åˆ†ç‰‡å’Œé«˜å¯ç”¨ã€ä»»åŠ¡å¯è§†åŒ–ç®¡ç†ç­‰åŠŸèƒ½ã€‚</p> <p><img src="https://img-blog.csdnimg.cn/20210608080437356.png" alt=""></p> <p>ElasticJob-Lite çš„æ¶æ„è®¾è®¡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p> <p><img src="https://oscimg.oschina.net/oscnet/up-a8f63f828666d43009d5d3497bcbd2cfb61.png" alt=""></p> <p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œ<code>Elastic-Job</code> æ²¡æœ‰è°ƒåº¦ä¸­å¿ƒè¿™ä¸€æ¦‚å¿µï¼Œè€Œæ˜¯ä½¿ç”¨ <code>ZooKeeper</code> ä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼Œæ³¨å†Œä¸­å¿ƒè´Ÿè´£åè°ƒåˆ†é…ä»»åŠ¡åˆ°ä¸åŒçš„èŠ‚ç‚¹ä¸Šã€‚</p> <p>Elastic-Job ä¸­çš„å®šæ—¶è°ƒåº¦éƒ½æ˜¯ç”±æ‰§è¡Œå™¨è‡ªè¡Œè§¦å‘ï¼Œè¿™ç§è®¾è®¡ä¹Ÿè¢«ç§°ä¸ºå»ä¸­å¿ƒåŒ–è®¾è®¡ï¼ˆè°ƒåº¦å’Œå¤„ç†éƒ½æ˜¯æ‰§è¡Œå™¨å•ç‹¬å®Œæˆï¼‰ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ElasticJobConf</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;dayJob&quot;</span><span class="token punctuation">,</span> cron <span class="token operator">=</span> <span class="token string">&quot;0/10 * * * * ?&quot;</span><span class="token punctuation">,</span> shardingTotalCount <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
        shardingItemParameters <span class="token operator">=</span> <span class="token string">&quot;0=AAAA,1=BBBB&quot;</span><span class="token punctuation">,</span> description <span class="token operator">=</span> <span class="token string">&quot;ç®€å•ä»»åŠ¡&quot;</span><span class="token punctuation">,</span> failover <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestJob</span> <span class="token keyword">implements</span> <span class="token class-name">SimpleJob</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">ShardingContext</span> shardingContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;TestJobä»»åŠ¡åï¼šã€{}ã€‘, ç‰‡æ•°ï¼šã€{}ã€‘, param=ã€{}ã€‘&quot;</span><span class="token punctuation">,</span> shardingContext<span class="token punctuation">.</span><span class="token function">getJobName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> shardingContext<span class="token punctuation">.</span><span class="token function">getShardingTotalCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                shardingContext<span class="token punctuation">.</span><span class="token function">getShardingParameter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>ç›¸å…³åœ°å€ï¼š</strong></p> <ul><li>Github åœ°å€ï¼šhttps://github.com/apache/shardingsphere-elasticjobã€‚</li> <li>å®˜æ–¹ç½‘ç«™ï¼šhttps://shardingsphere.apache.org/elasticjob/index_zh.html ã€‚</li></ul> <p><strong>ä¼˜ç¼ºç‚¹æ€»ç»“ï¼š</strong></p> <ul><li>ä¼˜ç‚¹ ï¼šå¯ä»¥ä¸ <code>Spring</code> é›†æˆã€æ”¯æŒåˆ†å¸ƒå¼ã€æ”¯æŒé›†ç¾¤ã€æ€§èƒ½ä¸é”™</li> <li>ç¼ºç‚¹ ï¼šä¾èµ–äº†é¢å¤–çš„ä¸­é—´ä»¶æ¯”å¦‚ Zookeeperï¼ˆå¤æ‚åº¦å¢åŠ ï¼Œå¯é æ€§é™ä½ã€ç»´æŠ¤æˆæœ¬å˜é«˜ï¼‰</li></ul> <h3 id="xxl-job"><a href="#xxl-job" class="header-anchor">#</a> XXL-JOB</h3> <p><img src="https://img-blog.csdnimg.cn/20210528144611728.png" alt=""></p> <p><code>XXL-JOB</code> äº 2015 å¹´å¼€æºï¼Œæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„è½»é‡çº§åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œæ”¯æŒä»»åŠ¡å¯è§†åŒ–ç®¡ç†ã€å¼¹æ€§æ‰©å®¹ç¼©å®¹ã€ä»»åŠ¡å¤±è´¥é‡è¯•å’Œå‘Šè­¦ã€ä»»åŠ¡åˆ†ç‰‡ç­‰åŠŸèƒ½ï¼Œ</p> <p><img src="https://img-blog.csdnimg.cn/20210608080550433.png" alt=""></p> <p>æ ¹æ® <code>XXL-JOB</code> å®˜ç½‘ä»‹ç»ï¼Œå…¶è§£å†³äº†å¾ˆå¤š <code>Quartz</code> çš„ä¸è¶³ã€‚</p> <p><img src="https://img-blog.csdnimg.cn/20210607202503193.png" alt=""></p> <p><code>XXL-JOB</code> çš„æ¶æ„è®¾è®¡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p> <p><img src="https://oscimg.oschina.net/oscnet/up-b8ecc6acf651f112c4dfae98243d72adea3.png" alt=""></p> <p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œ<code>XXL-JOB</code> ç”± <strong>è°ƒåº¦ä¸­å¿ƒ</strong> å’Œ <strong>æ‰§è¡Œå™¨</strong> ä¸¤å¤§éƒ¨åˆ†ç»„æˆã€‚è°ƒåº¦ä¸­å¿ƒä¸»è¦è´Ÿè´£ä»»åŠ¡ç®¡ç†ã€æ‰§è¡Œå™¨ç®¡ç†ä»¥åŠæ—¥å¿—ç®¡ç†ã€‚æ‰§è¡Œå™¨ä¸»è¦æ˜¯æ¥æ”¶è°ƒåº¦ä¿¡å·å¹¶å¤„ç†ã€‚å¦å¤–ï¼Œè°ƒåº¦ä¸­å¿ƒè¿›è¡Œä»»åŠ¡è°ƒåº¦æ—¶ï¼Œæ˜¯é€šè¿‡è‡ªç ” RPC æ¥å®ç°çš„ã€‚</p> <p>ä¸åŒäº <code>Elastic-Job</code> çš„å»ä¸­å¿ƒåŒ–è®¾è®¡ï¼Œ <code>XXL-JOB</code> çš„è¿™ç§è®¾è®¡ä¹Ÿè¢«ç§°ä¸ºä¸­å¿ƒåŒ–è®¾è®¡ï¼ˆè°ƒåº¦ä¸­å¿ƒè°ƒåº¦å¤šä¸ªæ‰§è¡Œå™¨æ‰§è¡Œä»»åŠ¡ï¼‰ã€‚</p> <p>å’Œ <code>Quzrtz</code> ç±»ä¼¼ <code>XXL-JOB</code> ä¹Ÿæ˜¯åŸºäºæ•°æ®åº“é”è°ƒåº¦ä»»åŠ¡ï¼Œå­˜åœ¨æ€§èƒ½ç“¶é¢ˆã€‚ä¸è¿‡ï¼Œä¸€èˆ¬åœ¨ä»»åŠ¡é‡ä¸æ˜¯ç‰¹åˆ«å¤§çš„æƒ…å†µä¸‹ï¼Œæ²¡æœ‰ä»€ä¹ˆå½±å“çš„ï¼Œå¯ä»¥æ»¡è¶³ç»å¤§éƒ¨åˆ†å…¬å¸çš„è¦æ±‚ã€‚</p> <p>ä¸è¦è¢« <code>XXL-JOB</code> çš„æ¶æ„å›¾ç»™å“ç€äº†ï¼Œå®é™…ä¸Šï¼Œæˆ‘ä»¬è¦ç”¨ <code>XXL-JOB</code> çš„è¯ï¼Œåªéœ€è¦é‡å†™ <code>IJobHandler</code> è‡ªå®šä¹‰ä»»åŠ¡æ‰§è¡Œé€»è¾‘å°±å¯ä»¥äº†ï¼Œéå¸¸æ˜“ç”¨ï¼</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@JobHandler</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;myApiJobHandler&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApiJobHandler</span> <span class="token keyword">extends</span> <span class="token class-name">IJobHandler</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ReturnT</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">String</span> param<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//......</span>
        <span class="token keyword">return</span> <span class="token class-name">ReturnT</span><span class="token punctuation">.</span>SUCCESS<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>è¿˜å¯ä»¥ç›´æ¥åŸºäºæ³¨è§£å®šä¹‰ä»»åŠ¡ã€‚</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@XxlJob</span><span class="token punctuation">(</span><span class="token string">&quot;myAnnotationJobHandler&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ReturnT</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">myAnnotationJobHandler</span><span class="token punctuation">(</span><span class="token class-name">String</span> param<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
  <span class="token comment">//......</span>
  <span class="token keyword">return</span> <span class="token class-name">ReturnT</span><span class="token punctuation">.</span>SUCCESS<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/20210607200728212.png" alt=""></p> <p><strong>ç›¸å…³åœ°å€ï¼š</strong></p> <ul><li>Github åœ°å€ï¼šhttps://github.com/xuxueli/xxl-job/ã€‚</li> <li>å®˜æ–¹ä»‹ç»ï¼šhttps://www.xuxueli.com/xxl-job/ ã€‚</li></ul> <p><strong>ä¼˜ç¼ºç‚¹æ€»ç»“ï¼š</strong></p> <ul><li>ä¼˜ç‚¹ï¼šå¼€ç®±å³ç”¨ï¼ˆå­¦ä¹ æˆæœ¬æ¯”è¾ƒä½ï¼‰ã€ä¸ Spring é›†æˆã€æ”¯æŒåˆ†å¸ƒå¼ã€æ”¯æŒé›†ç¾¤ã€å†…ç½®äº† UI ç®¡ç†æ§åˆ¶å°ã€‚</li> <li>ç¼ºç‚¹ï¼šä¸æ”¯æŒåŠ¨æ€æ·»åŠ ä»»åŠ¡ï¼ˆå¦‚æœä¸€å®šæƒ³è¦åŠ¨æ€åˆ›å»ºä»»åŠ¡ä¹Ÿæ˜¯æ”¯æŒçš„ï¼Œå‚è§ï¼š<a href="https://github.com/xuxueli/xxl-job/issues/277" target="_blank" rel="noopener noreferrer">xxl-job issue277<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼‰ã€‚</li></ul> <h3 id="powerjob"><a href="#powerjob" class="header-anchor">#</a> PowerJob</h3> <p><img src="https://img-blog.csdnimg.cn/20210528145009701.png" alt=""></p> <p>éå¸¸å€¼å¾—å…³æ³¨çš„ä¸€ä¸ªåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦æ¡†æ¶ï¼Œåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦é¢†åŸŸçš„æ–°æ˜Ÿã€‚ç›®å‰ï¼Œå·²ç»æœ‰å¾ˆå¤šå…¬å¸æ¥å…¥æ¯”å¦‚ OPPOã€äº¬ä¸œã€ä¸­é€šã€æ€ç§‘ã€‚</p> <p>è¿™ä¸ªæ¡†æ¶çš„è¯ç”Ÿä¹ŸæŒºæœ‰æ„æ€çš„ï¼ŒPowerJob çš„ä½œè€…å½“æ—¶åœ¨é˜¿é‡Œå·´å·´å®ä¹ è¿‡ï¼Œé˜¿é‡Œå·´å·´é‚£ä¼šä½¿ç”¨çš„æ˜¯å†…éƒ¨è‡ªç ”çš„ SchedulerXï¼ˆé˜¿é‡Œäº‘ä»˜è´¹äº§å“ï¼‰ã€‚å®ä¹ æœŸæ»¡ä¹‹åï¼ŒPowerJob çš„ä½œè€…ç¦»å¼€äº†é˜¿é‡Œå·´å·´ã€‚æƒ³ç€è¯´è‡ªç ”ä¸€ä¸ª SchedulerXï¼Œé˜²æ­¢å“ªå¤© SchedulerX æ»¡è¶³ä¸äº†éœ€æ±‚ï¼Œäºæ˜¯ PowerJob å°±è¯ç”Ÿäº†ã€‚</p> <p>æ›´å¤šå…³äº PowerJob çš„æ•…äº‹ï¼Œå°ä¼™ä¼´ä»¬å¯ä»¥å»çœ‹çœ‹ PowerJob ä½œè€…çš„è§†é¢‘ <a href="https://www.bilibili.com/video/BV1SK411A7F3/" target="_blank" rel="noopener noreferrer">ã€Šæˆ‘å’Œæˆ‘çš„ä»»åŠ¡è°ƒåº¦ä¸­é—´ä»¶ã€‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚ç®€å•ç‚¹æ¦‚æ‹¬å°±æ˜¯ï¼šâ€œæ¸¸æˆæ²¡å•¥æ„æ€äº†ï¼Œæˆ‘è¦æ‰›èµ·äº†æ–°ä¸€ä»£åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦ä¸è®¡ç®—æ¡†æ¶çš„å¤§æ——ï¼â€ã€‚</p> <p>ç”±äº SchedulerX å±äºäººæ°‘å¸äº§å“ï¼Œæˆ‘è¿™é‡Œå°±ä¸è¿‡å¤šä»‹ç»ã€‚PowerJob å®˜æ–¹ä¹Ÿå¯¹æ¯”è¿‡å…¶å’Œ QuartZã€XXL-JOB ä»¥åŠ SchedulerXã€‚</p> <p><img src="https://oscimg.oschina.net/oscnet/up-795f5e9b0d875063717b1ee6a08f2ff1c01.png" alt=""></p> <h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="header-anchor">#</a> æ€»ç»“</h2> <p>è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¸»è¦ä»‹ç»äº†ï¼š</p> <ul><li><strong>å®šæ—¶ä»»åŠ¡çš„ç›¸å…³æ¦‚å¿µ</strong> ï¼šä¸ºä»€ä¹ˆéœ€è¦å®šæ—¶ä»»åŠ¡ã€å®šæ—¶ä»»åŠ¡ä¸­çš„æ ¸å¿ƒè§’è‰²ã€åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ã€‚</li> <li><strong>å®šæ—¶ä»»åŠ¡çš„æŠ€æœ¯é€‰å‹</strong> ï¼š XXL-JOB 2015 å¹´æ¨å‡ºï¼Œå·²ç»ç»è¿‡äº†å¾ˆå¤šå¹´çš„è€ƒéªŒã€‚XXL-JOB è½»é‡çº§ï¼Œå¹¶ä¸”ä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ã€‚è™½ç„¶å­˜åœ¨æ€§èƒ½ç“¶é¢ˆï¼Œä½†æ˜¯ï¼Œåœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¯¹äºä¼ä¸šçš„åŸºæœ¬éœ€æ±‚æ¥è¯´æ˜¯æ²¡æœ‰å½±å“çš„ã€‚PowerJob å±äºåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦é¢†åŸŸé‡Œçš„æ–°æ˜Ÿï¼Œå…¶ç¨³å®šæ€§è¿˜æœ‰å¾…ç»§ç»­è€ƒå¯Ÿã€‚ElasticJob ç”±äºåœ¨æ¶æ„è®¾è®¡ä¸Šæ˜¯åŸºäº Zookeeper ï¼Œè€Œ XXL-JOB æ˜¯åŸºäºæ•°æ®åº“ï¼Œæ€§èƒ½æ–¹é¢çš„è¯ï¼ŒElasticJob ç•¥èƒœä¸€ç­¹ã€‚</li></ul> <p>è¿™ç¯‡æ–‡ç« å¹¶æ²¡æœ‰ä»‹ç»åˆ°å®é™…ä½¿ç”¨ï¼Œä½†æ˜¯ï¼Œå¹¶ä¸ä»£è¡¨å®é™…ä½¿ç”¨ä¸é‡è¦ã€‚æˆ‘åœ¨å†™è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œå·²ç»åŠ¨æ‰‹å†™è¿‡ç›¸åº”çš„ Demoã€‚åƒ Quartzï¼Œæˆ‘åœ¨å¤§å­¦é‚£ä¼šå°±ç”¨è¿‡ã€‚ä¸è¿‡ï¼Œå½“æ—¶ç”¨çš„æ˜¯ Spring ã€‚ä¸ºäº†èƒ½å¤Ÿæ›´å¥½åœ°ä½“éªŒï¼Œæˆ‘è‡ªå·±åˆåœ¨ Spring Boot ä¸Šå®é™…ä½“éªŒäº†ä¸€ä¸‹ã€‚å¦‚æœä½ å¹¶æ²¡æœ‰å®é™…ä½¿ç”¨æŸä¸ªæ¡†æ¶ï¼Œå°±ç›´æ¥è¯´å®ƒå¹¶ä¸å¥½ç”¨çš„è¯ï¼Œæ˜¯ç«™ä¸ä½è„šçš„ã€‚</p> <p>æœ€åï¼Œè¿™ç¯‡æ–‡ç« è¦æ„Ÿè°¢è‰¿è‰¿çš„å¸®åŠ©ï¼Œå†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™å‘è‰¿è‰¿è¯¢é—®è¿‡ä¸€äº›é—®é¢˜ã€‚æ¨èä¸€ç¯‡è‰¿è‰¿å†™çš„åå®æˆ˜ç±»å‹çš„ç¡¬æ ¸æ–‡ç« ï¼š<a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247490679&amp;idx=1&amp;sn=25374dbdcca95311d41be5d7b7db454d&amp;chksm=fa4963c6cd3eead055bb9cd10cca13224bb35d0f7373a27aa22a55495f71e24b8273a7603314&amp;scene=27#wechat_redirect" target="_blank" rel="noopener noreferrer">ã€ŠSpring Jobï¼ŸQuartzï¼ŸXXL-Jobï¼Ÿå¹´è½»äººæ‰åšé€‰æ‹©ï¼Œè‰¿è‰¿å…¨è½~ã€‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ã€‚</p></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/Snailclimb/JavaGuide/edit/main/docs/system-design/å®šæ—¶ä»»åŠ¡.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘æ­¤é¡µ</a></div> <div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº:</span> <span class="info">2022å¹´1æœˆ5æ—¥ 12:07</span></div> <div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span> <span class="info"><span title="email: 1054089446@qq.com" class="contributor">
          hxy-daniel
        </span> <!----></span></div></footer> <!----> <!----> <!----> <div class="content__page-bottom"></div></main> <footer class="footer-wrapper"><div class="media-links-wrapper"><a href="https://www.zhihu.com/people/javaguide" rel="noopener noreferrer" target="_blank" aria-label="Zhihu" data-balloon-pos="up" class="media-link"><span class="sr-only">Zhihu</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-zhihu"><circle cx="512" cy="512" r="512" fill="#006CE2"></circle> <path d="M513.65 491.261H411.551c1.615-16.154 5.815-60.095 5.815-84.973 0-24.88-.323-60.742-.323-60.742h102.744V329.39c0-21.647-9.37-31.34-17.124-31.34h-178.67s5.169-17.77 10.015-36.186c4.846-18.417 15.832-44.264 15.832-44.264-63.003 4.2-67.958 50.941-81.743 92.729-13.787 41.785-24.556 62.356-44.586 107.912 27.786 0 55.249-13.57 66.879-32.309 11.631-18.74 16.908-40.71 16.908-40.71h62.035v59.019c0 21.107-3.878 87.45-3.878 87.45H254.742c-19.386 0-29.724 48.894-29.724 48.894h133.76c-8.4 75.82-26.493 106.191-51.91 152.716-25.418 46.525-92.728 99.406-92.728 99.406 41.033 11.63 86.589-3.555 105.974-21.972 19.386-18.417 35.863-49.756 47.817-72.838 11.954-23.081 21.972-65.124 21.972-65.124L498.462 766.86s4.846-24.233 6.461-39.418c1.616-15.186-.755-26.385-4.63-35.433-3.878-9.046-15.509-21.54-31.018-39.634-15.507-18.094-48.034-52.879-48.034-52.879s-15.832 11.63-28.108 21.001c9.046-21.97 16.262-79.695 16.262-79.695h122.343v-20.249c.003-17.66-7.319-29.29-18.089-29.29zm287.337-200.747h-234.35a4.308 4.308 0 0 0-4.309 4.308v435.099a4.308 4.308 0 0 0 4.308 4.308h40.226l14.7 50.402 81.096-50.402h98.328a4.308 4.308 0 0 0 4.308-4.308v-435.1a4.308 4.308 0 0 0-4.308-4.308zM755.97 684.47h-52.343l-61.548 39.095-10.823-39.095h-18.738V338.116H755.97v346.355z" fill="#FFF"></path></svg></a><a href="https://github.com/Snailclimb" rel="noopener noreferrer" target="_blank" aria-label="Github" data-balloon-pos="up" class="media-link"><span class="sr-only">Github</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-github"><circle cx="512" cy="512" r="512" fill="#171515"></circle> <path d="M509.423 146.442c-200.317 0-362.756 162.42-362.756 362.8 0 160.266 103.936 296.24 248.109 344.217 18.139 3.327 24.76-7.872 24.76-17.486 0-8.613-.313-31.427-.49-61.702-100.912 21.923-122.205-48.63-122.205-48.63-16.495-41.91-40.28-53.067-40.28-53.067-32.937-22.51 2.492-22.053 2.492-22.053 36.407 2.566 55.568 37.386 55.568 37.386 32.362 55.438 84.907 39.43 105.58 30.143 3.296-23.444 12.667-39.43 23.032-48.498-80.557-9.156-165.246-40.28-165.246-179.297 0-39.604 14.135-71.988 37.342-97.348-3.731-9.178-16.18-46.063 3.556-96.009 0 0 30.46-9.754 99.76 37.19 28.937-8.048 59.97-12.071 90.823-12.211 30.807.14 61.843 4.165 90.822 12.21 69.26-46.944 99.663-37.189 99.663-37.189 19.792 49.946 7.34 86.831 3.61 96.01 23.25 25.359 37.29 57.742 37.29 97.347 0 139.366-84.82 170.033-165.637 179.013 13.026 11.2 24.628 33.342 24.628 67.182 0 48.498-.445 87.627-.445 99.521 0 9.702 6.535 20.988 24.945 17.444 144.03-48.067 247.881-183.95 247.881-344.175 0-200.378-162.442-362.798-362.802-362.798z" fill="#FFF"></path></svg></a><a href="https://gitee.com/SnailClimb" rel="noopener noreferrer" target="_blank" aria-label="Gitee" data-balloon-pos="up" class="media-link"><span class="sr-only">Gitee</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-gitee"><circle cx="512" cy="512" r="512" fill="#C71D23"></circle> <path d="M772.953 454.723H480.17v.006a25.46 25.46 0 0 0-25.46 25.453l-.025 63.649a25.46 25.46 0 0 0 25.46 25.466l178.242-.007a25.46 25.46 0 0 1 25.459 25.46v12.73c0 42.18-34.198 76.378-76.378 76.378H365.583a25.46 25.46 0 0 1-25.46-25.46V416.533h-.006c0-42.18 34.192-76.378 76.378-76.378h356.388v-.013a25.46 25.46 0 0 0 25.46-25.446l.057-63.65h.013a25.46 25.46 0 0 0-25.46-25.471l-356.432.012c-105.453 0-190.946 85.493-190.946 190.946v356.433a25.46 25.46 0 0 0 25.46 25.46H626.56c94.913 0 171.852-76.94 171.852-171.852V480.182a25.46 25.46 0 0 0-25.46-25.46z" fill="#fff"></path></svg></a></div> <div class="footer"><a href="https://beian.miit.gov.cn/" target="_blank">é„‚ICPå¤‡2020015769å·-1</a></div> <div class="copyright">Copyright Â© 2022 Guideå“¥</div></footer></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="å…³é—­" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">è¯¥åº”ç”¨å¯ä»¥å®‰è£…åœ¨æ‚¨çš„ PC æˆ–ç§»åŠ¨è®¾å¤‡ä¸Šã€‚è¿™å°†ä½¿è¯¥ Web åº”ç”¨ç¨‹åºå¤–è§‚å’Œè¡Œä¸ºä¸å…¶ä»–åº”ç”¨ç¨‹åºç›¸åŒã€‚å®ƒå°†åœ¨å‡ºç°åœ¨åº”ç”¨ç¨‹åºåˆ—è¡¨ä¸­ï¼Œå¹¶å¯ä»¥å›ºå®šåˆ°ä¸»å±å¹•ï¼Œå¼€å§‹èœå•æˆ–ä»»åŠ¡æ ã€‚æ­¤ Web åº”ç”¨ç¨‹åºè¿˜å°†èƒ½å¤Ÿä¸å…¶ä»–åº”ç”¨ç¨‹åºå’Œæ‚¨çš„æ“ä½œç³»ç»Ÿå®‰å…¨åœ°è¿›è¡Œäº¤äº’ã€‚</p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>è¯¦æƒ…</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        å®‰è£… <span></span></button> <button class="cancel-button">
        å–æ¶ˆ
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.0ac6bc9d.js" defer></script><script src="/assets/js/vendors~layout-Layout.60c6a103.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.54625138.js" defer></script><script src="/assets/js/page-Javaå®šæ—¶ä»»åŠ¡å¤§æ­ç§˜.a589b73f.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.f6a6e44f.js" defer></script>
  </body>
</html>
