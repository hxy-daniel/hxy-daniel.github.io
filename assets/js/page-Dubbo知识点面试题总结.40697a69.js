(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{773:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"dubboçŸ¥è¯†ç‚¹-é¢è¯•é¢˜æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubboçŸ¥è¯†ç‚¹-é¢è¯•é¢˜æ€»ç»“"}},[s._v("#")]),s._v(" DubboçŸ¥è¯†ç‚¹&é¢è¯•é¢˜æ€»ç»“")]),s._v(" "),a("p",[s._v("è¿™ç¯‡æ–‡ç« æ˜¯æˆ‘æ ¹æ®å®˜æ–¹æ–‡æ¡£ä»¥åŠè‡ªå·±å¹³æ—¶çš„ä½¿ç”¨æƒ…å†µï¼Œå¯¹ Dubbo æ‰€åšçš„ä¸€ä¸ªæ€»ç»“ã€‚æ¬¢è¿è¡¥å……ï¼")]),s._v(" "),a("h2",{attrs:{id:"rpcåŸºç¡€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpcåŸºç¡€"}},[s._v("#")]),s._v(" RPCåŸºç¡€")]),s._v(" "),a("h3",{attrs:{id:"ä½•ä¸º-rpc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½•ä¸º-rpc"}},[s._v("#")]),s._v(" ä½•ä¸º RPC?")]),s._v(" "),a("p",[a("strong",[s._v("RPCï¼ˆRemote Procedure Callï¼‰")]),s._v(" å³è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œé€šè¿‡åå­—æˆ‘ä»¬å°±èƒ½çœ‹å‡º RPC å…³æ³¨çš„æ˜¯è¿œç¨‹è°ƒç”¨è€Œéæœ¬åœ°è°ƒç”¨ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("ä¸ºä»€ä¹ˆè¦ RPC  ï¼Ÿ")]),s._v(" å› ä¸ºï¼Œä¸¤ä¸ªä¸åŒçš„æœåŠ¡å™¨ä¸Šçš„æœåŠ¡æä¾›çš„æ–¹æ³•ä¸åœ¨ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥ï¼Œéœ€è¦é€šè¿‡ç½‘ç»œç¼–ç¨‹æ‰èƒ½ä¼ é€’æ–¹æ³•è°ƒç”¨æ‰€éœ€è¦çš„å‚æ•°ã€‚å¹¶ä¸”ï¼Œæ–¹æ³•è°ƒç”¨çš„ç»“æœä¹Ÿéœ€è¦é€šè¿‡ç½‘ç»œç¼–ç¨‹æ¥æ¥æ”¶ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨ç½‘ç»œç¼–ç¨‹æ¥å®ç°è¿™ä¸ªè°ƒç”¨è¿‡ç¨‹çš„è¯å·¥ä½œé‡æ˜¯éå¸¸å¤§çš„ï¼Œå› ä¸ºï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘åº•å±‚ä¼ è¾“æ–¹å¼ï¼ˆTCPè¿˜æ˜¯UDPï¼‰ã€åºåˆ—åŒ–æ–¹å¼ç­‰ç­‰æ–¹é¢ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("RPC èƒ½å¸®åŠ©æˆ‘ä»¬åšä»€ä¹ˆå‘¢ï¼Ÿ")]),s._v(" ç®€å•æ¥è¯´ï¼Œé€šè¿‡ RPC å¯ä»¥å¸®åŠ©æˆ‘ä»¬è°ƒç”¨è¿œç¨‹è®¡ç®—æœºä¸ŠæŸä¸ªæœåŠ¡çš„æ–¹æ³•ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·ç®€å•ã€‚å¹¶ä¸”ï¼æˆ‘ä»¬ä¸éœ€è¦äº†è§£åº•å±‚ç½‘ç»œç¼–ç¨‹çš„å…·ä½“ç»†èŠ‚ã€‚")]),s._v(" "),a("p",[s._v("ä¸¾ä¸ªä¾‹å­ï¼šä¸¤ä¸ªä¸åŒçš„æœåŠ¡ Aã€B éƒ¨ç½²åœ¨ä¸¤å°ä¸åŒçš„æœºå™¨ä¸Šï¼ŒæœåŠ¡ A å¦‚æœæƒ³è¦è°ƒç”¨æœåŠ¡ B ä¸­çš„æŸä¸ªæ–¹æ³•çš„è¯å°±å¯ä»¥é€šè¿‡ RPC æ¥åšã€‚")]),s._v(" "),a("p",[s._v("ä¸€è¨€è”½ä¹‹ï¼š"),a("strong",[s._v("RPC çš„å‡ºç°å°±æ˜¯ä¸ºäº†è®©ä½ è°ƒç”¨è¿œç¨‹æ–¹æ³•åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·ç®€å•ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"rpc-çš„åŸç†æ˜¯ä»€ä¹ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-çš„åŸç†æ˜¯ä»€ä¹ˆ"}},[s._v("#")]),s._v(" RPC çš„åŸç†æ˜¯ä»€ä¹ˆ?")]),s._v(" "),a("p",[s._v("ä¸ºäº†èƒ½å¤Ÿå¸®åŠ©å°ä¼™ä¼´ä»¬ç†è§£ RPC åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•´ä¸ª RPCçš„ æ ¸å¿ƒåŠŸèƒ½çœ‹ä½œæ˜¯ä¸‹é¢ğŸ‘‡ 6 ä¸ªéƒ¨åˆ†å®ç°çš„ï¼š")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("å®¢æˆ·ç«¯ï¼ˆæœåŠ¡æ¶ˆè´¹ç«¯ï¼‰")]),s._v(" ï¼šè°ƒç”¨è¿œç¨‹æ–¹æ³•çš„ä¸€ç«¯ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("å®¢æˆ·ç«¯ Stubï¼ˆæ¡©ï¼‰")]),s._v(" ï¼š è¿™å…¶å®å°±æ˜¯ä¸€ä»£ç†ç±»ã€‚ä»£ç†ç±»ä¸»è¦åšçš„äº‹æƒ…å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠä½ è°ƒç”¨æ–¹æ³•ã€ç±»ã€æ–¹æ³•å‚æ•°ç­‰ä¿¡æ¯ä¼ é€’åˆ°æœåŠ¡ç«¯ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("ç½‘ç»œä¼ è¾“")]),s._v(" ï¼š ç½‘ç»œä¼ è¾“å°±æ˜¯ä½ è¦æŠŠä½ è°ƒç”¨çš„æ–¹æ³•çš„ä¿¡æ¯æ¯”å¦‚è¯´å‚æ•°å•Šè¿™äº›ä¸œè¥¿ä¼ è¾“åˆ°æœåŠ¡ç«¯ï¼Œç„¶åæœåŠ¡ç«¯æ‰§è¡Œå®Œä¹‹åå†æŠŠè¿”å›ç»“æœé€šè¿‡ç½‘ç»œä¼ è¾“ç»™ä½ ä¼ è¾“å›æ¥ã€‚ç½‘ç»œä¼ è¾“çš„å®ç°æ–¹å¼æœ‰å¾ˆå¤šç§æ¯”å¦‚æœ€è¿‘åŸºæœ¬çš„ Socketæˆ–è€…æ€§èƒ½ä»¥åŠå°è£…æ›´åŠ ä¼˜ç§€çš„ Nettyï¼ˆæ¨èï¼‰ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("æœåŠ¡ç«¯ Stubï¼ˆæ¡©ï¼‰")]),s._v(" ï¼šè¿™ä¸ªæ¡©å°±ä¸æ˜¯ä»£ç†ç±»äº†ã€‚æˆ‘è§‰å¾—ç†è§£ä¸ºæ¡©å®é™…ä¸å¤ªå¥½ï¼Œå¤§å®¶æ³¨æ„ä¸€ä¸‹å°±å¥½ã€‚è¿™é‡Œçš„æœåŠ¡ç«¯ Stub å®é™…æŒ‡çš„å°±æ˜¯æ¥æ”¶åˆ°å®¢æˆ·ç«¯æ‰§è¡Œæ–¹æ³•çš„è¯·æ±‚åï¼Œå»æŒ‡å®šå¯¹åº”çš„æ–¹æ³•ç„¶åè¿”å›ç»“æœç»™å®¢æˆ·ç«¯çš„ç±»ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("æœåŠ¡ç«¯ï¼ˆæœåŠ¡æä¾›ç«¯ï¼‰")]),s._v(" ï¼šæä¾›è¿œç¨‹æ–¹æ³•çš„ä¸€ç«¯ã€‚")])]),s._v(" "),a("p",[s._v("å…·ä½“åŸç†å›¾å¦‚ä¸‹ï¼Œåé¢æˆ‘ä¼šä¸²èµ·æ¥å°†æ•´ä¸ªRPCçš„è¿‡ç¨‹ç»™å¤§å®¶è¯´ä¸€ä¸‹ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/18-12-6/37345851.jpg",alt:"RPCåŸç†å›¾"}})]),s._v(" "),a("ol",[a("li",[s._v("æœåŠ¡æ¶ˆè´¹ç«¯ï¼ˆclientï¼‰ä»¥æœ¬åœ°è°ƒç”¨çš„æ–¹å¼è°ƒç”¨è¿œç¨‹æœåŠ¡ï¼›")]),s._v(" "),a("li",[s._v("å®¢æˆ·ç«¯ Stubï¼ˆclient stubï¼‰ æ¥æ”¶åˆ°è°ƒç”¨åè´Ÿè´£å°†æ–¹æ³•ã€å‚æ•°ç­‰ç»„è£…æˆèƒ½å¤Ÿè¿›è¡Œç½‘ç»œä¼ è¾“çš„æ¶ˆæ¯ä½“ï¼ˆåºåˆ—åŒ–ï¼‰ï¼š"),a("code",[s._v("RpcRequest")]),s._v("ï¼›")]),s._v(" "),a("li",[s._v("å®¢æˆ·ç«¯ Stubï¼ˆclient stubï¼‰ æ‰¾åˆ°è¿œç¨‹æœåŠ¡çš„åœ°å€ï¼Œå¹¶å°†æ¶ˆæ¯å‘é€åˆ°æœåŠ¡æä¾›ç«¯ï¼›")]),s._v(" "),a("li",[s._v("æœåŠ¡ç«¯ Stubï¼ˆæ¡©ï¼‰æ”¶åˆ°æ¶ˆæ¯å°†æ¶ˆæ¯ååºåˆ—åŒ–ä¸ºJavaå¯¹è±¡: "),a("code",[s._v("RpcRequest")]),s._v("ï¼›")]),s._v(" "),a("li",[s._v("æœåŠ¡ç«¯ Stubï¼ˆæ¡©ï¼‰æ ¹æ®"),a("code",[s._v("RpcRequest")]),s._v("ä¸­çš„ç±»ã€æ–¹æ³•ã€æ–¹æ³•å‚æ•°ç­‰ä¿¡æ¯è°ƒç”¨æœ¬åœ°çš„æ–¹æ³•ï¼›")]),s._v(" "),a("li",[s._v("æœåŠ¡ç«¯ Stubï¼ˆæ¡©ï¼‰å¾—åˆ°æ–¹æ³•æ‰§è¡Œç»“æœå¹¶å°†ç»„è£…æˆèƒ½å¤Ÿè¿›è¡Œç½‘ç»œä¼ è¾“çš„æ¶ˆæ¯ä½“ï¼š"),a("code",[s._v("RpcResponse")]),s._v("ï¼ˆåºåˆ—åŒ–ï¼‰å‘é€è‡³æ¶ˆè´¹æ–¹ï¼›")]),s._v(" "),a("li",[s._v("å®¢æˆ·ç«¯ Stubï¼ˆclient stubï¼‰æ¥æ”¶åˆ°æ¶ˆæ¯å¹¶å°†æ¶ˆæ¯ååºåˆ—åŒ–ä¸ºJavaå¯¹è±¡:"),a("code",[s._v("RpcResponse")]),s._v(" ï¼Œè¿™æ ·ä¹Ÿå°±å¾—åˆ°äº†æœ€ç»ˆç»“æœã€‚over!")])]),s._v(" "),a("p",[s._v("ç›¸ä¿¡å°ä¼™ä¼´ä»¬çœ‹å®Œä¸Šé¢çš„è®²è§£ä¹‹åï¼Œå·²ç»äº†è§£äº† RPC çš„åŸç†ã€‚")]),s._v(" "),a("p",[s._v("è™½ç„¶ç¯‡å¹…ä¸å¤šï¼Œä½†æ˜¯åŸºæœ¬æŠŠ RPC æ¡†æ¶çš„æ ¸å¿ƒåŸç†è®²æ¸…æ¥šäº†ï¼å¦å¤–ï¼Œå¯¹äºä¸Šé¢çš„æŠ€æœ¯ç»†èŠ‚ï¼Œæˆ‘ä¼šåœ¨åé¢çš„ç« èŠ‚ä»‹ç»åˆ°ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("æœ€åï¼Œå¯¹äº RPC çš„åŸç†ï¼Œå¸Œæœ›å°ä¼™ä¼´ä¸å•å•è¦ç†è§£ï¼Œè¿˜è¦èƒ½å¤Ÿè‡ªå·±ç”»å‡ºæ¥å¹¶ä¸”èƒ½å¤Ÿç»™åˆ«äººè®²å‡ºæ¥ã€‚å› ä¸ºï¼Œåœ¨é¢è¯•ä¸­è¿™ä¸ªé—®é¢˜åœ¨é¢è¯•å®˜é—®åˆ° RPC ç›¸å…³å†…å®¹çš„æ—¶å€™åŸºæœ¬éƒ½ä¼šç¢°åˆ°ã€‚")])]),s._v(" "),a("h2",{attrs:{id:"dubboåŸºç¡€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubboåŸºç¡€"}},[s._v("#")]),s._v(" DubboåŸºç¡€")]),s._v(" "),a("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯-dubbo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-dubbo"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯ Dubbo?")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/2020-8/427f2168-1930-4c14-8760-415fac8db1d0-20200802184737978.png",alt:""}})]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/apache/dubbo",target:"_blank",rel:"noopener noreferrer"}},[s._v("Apache Dubbo"),a("OutboundLink")],1),s._v(" |ËˆdÊŒbÉ™ÊŠ|  æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½ã€è½»é‡çº§çš„å¼€æº Java RPC æ¡†æ¶ã€‚")]),s._v(" "),a("p",[s._v("æ ¹æ® "),a("a",{attrs:{href:"https://dubbo.apache.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Dubbo å®˜æ–¹æ–‡æ¡£"),a("OutboundLink")],1),s._v("çš„ä»‹ç»ï¼ŒDubbo æä¾›äº†å…­å¤§æ ¸å¿ƒèƒ½åŠ›")]),s._v(" "),a("ol",[a("li",[s._v("é¢å‘æ¥å£ä»£ç†çš„é«˜æ€§èƒ½RPCè°ƒç”¨ã€‚")]),s._v(" "),a("li",[s._v("æ™ºèƒ½å®¹é”™å’Œè´Ÿè½½å‡è¡¡ã€‚")]),s._v(" "),a("li",[s._v("æœåŠ¡è‡ªåŠ¨æ³¨å†Œå’Œå‘ç°ã€‚")]),s._v(" "),a("li",[s._v("é«˜åº¦å¯æ‰©å±•èƒ½åŠ›ã€‚")]),s._v(" "),a("li",[s._v("è¿è¡ŒæœŸæµé‡è°ƒåº¦ã€‚")]),s._v(" "),a("li",[s._v("å¯è§†åŒ–çš„æœåŠ¡æ²»ç†ä¸è¿ç»´ã€‚")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/æºç /dubbo/dubboæä¾›çš„å…­å¤§æ ¸å¿ƒèƒ½åŠ›.png",alt:"Dubboæä¾›çš„å…­å¤§æ ¸å¿ƒèƒ½åŠ›"}})]),s._v(" "),a("p",[s._v("ç®€å•æ¥è¯´å°±æ˜¯ï¼š "),a("strong",[s._v("Dubbo ä¸å…‰å¯ä»¥å¸®åŠ©æˆ‘ä»¬è°ƒç”¨è¿œç¨‹æœåŠ¡ï¼Œè¿˜æä¾›äº†ä¸€äº›å…¶ä»–å¼€ç®±å³ç”¨çš„åŠŸèƒ½æ¯”å¦‚æ™ºèƒ½è´Ÿè½½å‡è¡¡ã€‚")])]),s._v(" "),a("p",[s._v("Dubbo ç›®å‰å·²ç»æœ‰æ¥è¿‘ 34.4 k çš„ Star  ã€‚")]),s._v(" "),a("p",[s._v("åœ¨ "),a("strong",[s._v("2020 å¹´åº¦ OSC ä¸­å›½å¼€æºé¡¹ç›®")]),s._v(" è¯„é€‰æ´»åŠ¨ä¸­ï¼ŒDubbo ä½åˆ—å¼€å‘æ¡†æ¶å’ŒåŸºç¡€ç»„ä»¶ç±»é¡¹ç›®çš„ç¬¬7åã€‚æƒ³æ¯”å‡ å¹´å‰æ¥è¯´ï¼Œçƒ­åº¦å’Œæ’åæœ‰æ‰€ä¸‹é™ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/æºç /dubbo/image-20210107153159545.png",alt:""}})]),s._v(" "),a("p",[s._v("Dubbo æ˜¯ç”±é˜¿é‡Œå¼€æºï¼Œåæ¥åŠ å…¥äº† Apache ã€‚æ­£å¼ç”±äº Dubbo çš„å‡ºç°ï¼Œæ‰ä½¿å¾—è¶Šæ¥è¶Šå¤šçš„å…¬å¸å¼€å§‹ä½¿ç”¨ä»¥åŠæ¥å—åˆ†å¸ƒå¼æ¶æ„ã€‚")]),s._v(" "),a("h3",{attrs:{id:"ä¸ºä»€ä¹ˆè¦ç”¨-dubbo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆè¦ç”¨-dubbo"}},[s._v("#")]),s._v(" ä¸ºä»€ä¹ˆè¦ç”¨ Dubbo?")]),s._v(" "),a("p",[s._v("éšç€äº’è”ç½‘çš„å‘å±•ï¼Œç½‘ç«™çš„è§„æ¨¡è¶Šæ¥è¶Šå¤§ï¼Œç”¨æˆ·æ•°é‡è¶Šæ¥è¶Šå¤šã€‚å•ä¸€åº”ç”¨æ¶æ„ ã€å‚ç›´åº”ç”¨æ¶æ„æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œè¿™ä¸ªæ—¶å€™åˆ†å¸ƒå¼æœåŠ¡æ¶æ„å°±è¯ç”Ÿäº†ã€‚")]),s._v(" "),a("p",[s._v("åˆ†å¸ƒå¼æœåŠ¡æ¶æ„ä¸‹ï¼Œç³»ç»Ÿè¢«æ‹†åˆ†æˆä¸åŒçš„æœåŠ¡æ¯”å¦‚çŸ­ä¿¡æœåŠ¡ã€å®‰å…¨æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡ç‹¬ç«‹æä¾›ç³»ç»Ÿçš„æŸä¸ªæ ¸å¿ƒæœåŠ¡ã€‚")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Java RMIï¼ˆJava Remote Method Invocationï¼‰ã€Hessianè¿™ç§æ”¯æŒè¿œç¨‹è°ƒç”¨çš„æ¡†æ¶æ¥ç®€å•åœ°æš´éœ²å’Œå¼•ç”¨è¿œç¨‹æœåŠ¡ã€‚ä½†æ˜¯ï¼å½“æœåŠ¡è¶Šæ¥è¶Šå¤šä¹‹åï¼ŒæœåŠ¡è°ƒç”¨å…³ç³»è¶Šæ¥è¶Šå¤æ‚ã€‚å½“åº”ç”¨è®¿é—®å‹åŠ›è¶Šæ¥è¶Šå¤§åï¼Œè´Ÿè½½å‡è¡¡ä»¥åŠæœåŠ¡ç›‘æ§çš„éœ€æ±‚ä¹Ÿè¿«åœ¨çœ‰ç«ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ F5 è¿™ç±»ç¡¬ä»¶æ¥åšè´Ÿè½½å‡è¡¡ï¼Œä½†è¿™æ ·å¢åŠ äº†æˆæœ¬ï¼Œå¹¶ä¸”å­˜åœ¨å•ç‚¹æ•…éšœçš„é£é™©ã€‚")]),s._v(" "),a("p",[s._v("ä¸è¿‡ï¼ŒDubbo çš„å‡ºç°è®©ä¸Šè¿°é—®é¢˜å¾—åˆ°äº†è§£å†³ã€‚"),a("strong",[s._v("Dubbo å¸®åŠ©æˆ‘ä»¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ")])]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("è´Ÿè½½å‡è¡¡")]),s._v(" ï¼š åŒä¸€ä¸ªæœåŠ¡éƒ¨ç½²åœ¨ä¸åŒçš„æœºå™¨æ—¶è¯¥è°ƒç”¨å“ªä¸€å°æœºå™¨ä¸Šçš„æœåŠ¡ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("æœåŠ¡è°ƒç”¨é“¾è·¯ç”Ÿæˆ")]),s._v("  ï¼š éšç€ç³»ç»Ÿçš„å‘å±•ï¼ŒæœåŠ¡è¶Šæ¥è¶Šå¤šï¼ŒæœåŠ¡é—´ä¾èµ–å…³ç³»å˜å¾—é”™è¸ªå¤æ‚ï¼Œç”šè‡³åˆ†ä¸æ¸…å“ªä¸ªåº”ç”¨è¦åœ¨å“ªä¸ªåº”ç”¨ä¹‹å‰å¯åŠ¨ï¼Œæ¶æ„å¸ˆéƒ½ä¸èƒ½å®Œæ•´çš„æè¿°åº”ç”¨çš„æ¶æ„å…³ç³»ã€‚Dubbo å¯ä»¥ä¸ºæˆ‘ä»¬è§£å†³æœåŠ¡ä¹‹é—´äº’ç›¸æ˜¯å¦‚ä½•è°ƒç”¨çš„ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("æœåŠ¡è®¿é—®å‹åŠ›ä»¥åŠæ—¶é•¿ç»Ÿè®¡ã€èµ„æºè°ƒåº¦å’Œæ²»ç†")]),s._v(" ï¼šåŸºäºè®¿é—®å‹åŠ›å®æ—¶ç®¡ç†é›†ç¾¤å®¹é‡ï¼Œæé«˜é›†ç¾¤åˆ©ç”¨ç‡ã€‚")]),s._v(" "),a("li",[s._v("......")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/18-9-26/43050183.jpg",alt:""}})]),s._v(" "),a("p",[s._v("å¦å¤–ï¼ŒDubbo é™¤äº†èƒ½å¤Ÿåº”ç”¨åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¹Ÿå¯ä»¥åº”ç”¨åœ¨ç°åœ¨æ¯”è¾ƒç«çš„å¾®æœåŠ¡ç³»ç»Ÿä¸­ã€‚ä¸è¿‡ï¼Œç”±äº Spring Cloud åœ¨å¾®æœåŠ¡ä¸­åº”ç”¨æ›´åŠ å¹¿æ³›ï¼Œæ‰€ä»¥ï¼Œæˆ‘è§‰å¾—ä¸€èˆ¬æˆ‘ä»¬æ Dubbo çš„è¯ï¼Œå¤§éƒ¨åˆ†æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„æƒ…å†µã€‚")]),s._v(" "),a("p",[a("strong",[s._v("æˆ‘ä»¬åˆšåˆšæåˆ°äº†åˆ†å¸ƒå¼è¿™ä¸ªæ¦‚å¿µï¼Œä¸‹é¢å†ç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼ï¼Ÿä¸ºä»€ä¹ˆè¦åˆ†å¸ƒå¼ï¼Ÿ")])]),s._v(" "),a("h2",{attrs:{id:"åˆ†å¸ƒå¼åŸºç¡€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†å¸ƒå¼åŸºç¡€"}},[s._v("#")]),s._v(" åˆ†å¸ƒå¼åŸºç¡€")]),s._v(" "),a("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼?")]),s._v(" "),a("p",[s._v("åˆ†å¸ƒå¼æˆ–è€…è¯´ SOA åˆ†å¸ƒå¼é‡è¦çš„å°±æ˜¯é¢å‘æœåŠ¡ï¼Œè¯´ç®€å•çš„åˆ†å¸ƒå¼å°±æ˜¯æˆ‘ä»¬æŠŠæ•´ä¸ªç³»ç»Ÿæ‹†åˆ†æˆä¸åŒçš„æœåŠ¡ç„¶åå°†è¿™äº›æœåŠ¡æ”¾åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šå‡è½»å•ä½“æœåŠ¡çš„å‹åŠ›æé«˜å¹¶å‘é‡å’Œæ€§èƒ½ã€‚æ¯”å¦‚ç”µå•†ç³»ç»Ÿå¯ä»¥ç®€å•åœ°æ‹†åˆ†æˆè®¢å•ç³»ç»Ÿã€å•†å“ç³»ç»Ÿã€ç™»å½•ç³»ç»Ÿç­‰ç­‰ï¼Œæ‹†åˆ†ä¹‹åçš„æ¯ä¸ªæœåŠ¡å¯ä»¥éƒ¨ç½²åœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼Œå¦‚æœæŸä¸€ä¸ªæœåŠ¡çš„è®¿é—®é‡æ¯”è¾ƒå¤§çš„è¯ä¹Ÿå¯ä»¥å°†è¿™ä¸ªæœåŠ¡åŒæ—¶éƒ¨ç½²åœ¨å¤šå°æœºå™¨ä¸Šã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/java-guide-blog/åˆ†å¸ƒå¼äº‹åŠ¡ç¤ºæ„å›¾.png",alt:"åˆ†å¸ƒå¼äº‹åŠ¡ç¤ºæ„å›¾"}})]),s._v(" "),a("h3",{attrs:{id:"ä¸ºä»€ä¹ˆè¦åˆ†å¸ƒå¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆè¦åˆ†å¸ƒå¼"}},[s._v("#")]),s._v(" ä¸ºä»€ä¹ˆè¦åˆ†å¸ƒå¼?")]),s._v(" "),a("p",[s._v("ä»å¼€å‘è§’åº¦æ¥è®²å•ä½“åº”ç”¨çš„ä»£ç éƒ½é›†ä¸­åœ¨ä¸€èµ·ï¼Œè€Œåˆ†å¸ƒå¼ç³»ç»Ÿçš„ä»£ç æ ¹æ®ä¸šåŠ¡è¢«æ‹†åˆ†ã€‚æ‰€ä»¥ï¼Œæ¯ä¸ªå›¢é˜Ÿå¯ä»¥è´Ÿè´£ä¸€ä¸ªæœåŠ¡çš„å¼€å‘ï¼Œè¿™æ ·æå‡äº†å¼€å‘æ•ˆç‡ã€‚å¦å¤–ï¼Œä»£ç æ ¹æ®ä¸šåŠ¡æ‹†åˆ†ä¹‹åæ›´åŠ ä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚")]),s._v(" "),a("p",[s._v("å¦å¤–ï¼Œæˆ‘è§‰å¾—å°†ç³»ç»Ÿæ‹†åˆ†æˆåˆ†å¸ƒå¼ä¹‹åä¸å…‰ä¾¿äºç³»ç»Ÿæ‰©å±•å’Œç»´æŠ¤ï¼Œæ›´èƒ½æé«˜æ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½ã€‚ä½ æƒ³ä¸€æƒ³å˜›ï¼ŸæŠŠæ•´ä¸ªç³»ç»Ÿæ‹†åˆ†æˆä¸åŒçš„æœåŠ¡/ç³»ç»Ÿï¼Œç„¶åæ¯ä¸ªæœåŠ¡/ç³»ç»Ÿ å•ç‹¬éƒ¨ç½²åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œæ˜¯ä¸æ˜¯å¾ˆå¤§ç¨‹åº¦ä¸Šæé«˜äº†ç³»ç»Ÿæ€§èƒ½å‘¢ï¼Ÿ")]),s._v(" "),a("h2",{attrs:{id:"dubbo-æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo-æ¶æ„"}},[s._v("#")]),s._v(" Dubbo æ¶æ„")]),s._v(" "),a("h3",{attrs:{id:"dubbo-æ¶æ„ä¸­çš„æ ¸å¿ƒè§’è‰²æœ‰å“ªäº›"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo-æ¶æ„ä¸­çš„æ ¸å¿ƒè§’è‰²æœ‰å“ªäº›"}},[s._v("#")]),s._v(" Dubbo æ¶æ„ä¸­çš„æ ¸å¿ƒè§’è‰²æœ‰å“ªäº›ï¼Ÿ")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://dubbo.apache.org/zh/docs/v2.7/dev/design/",target:"_blank",rel:"noopener noreferrer"}},[s._v("å®˜æ–¹æ–‡æ¡£ä¸­çš„æ¡†æ¶è®¾è®¡ç« èŠ‚"),a("OutboundLink")],1),s._v(" å·²ç»ä»‹ç»çš„éå¸¸è¯¦ç»†äº†ï¼Œæˆ‘è¿™é‡ŒæŠŠä¸€äº›æ¯”è¾ƒé‡è¦çš„ç‚¹å†æä¸€ä¸‹ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/æºç /dubbo/dubbo-relation.jpg",alt:"dubbo-relation"}})]),s._v(" "),a("p",[s._v("ä¸Šè¿°èŠ‚ç‚¹ç®€å•ä»‹ç»ä»¥åŠä»–ä»¬ä¹‹é—´çš„å…³ç³»ï¼š")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("Containerï¼š")]),s._v(" æœåŠ¡è¿è¡Œå®¹å™¨ï¼Œè´Ÿè´£åŠ è½½ã€è¿è¡ŒæœåŠ¡æä¾›è€…ã€‚å¿…é¡»ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("Providerï¼š")]),s._v(" æš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹ï¼Œä¼šå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ã€‚å¿…é¡»ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("Consumerï¼š")]),s._v(" è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹ï¼Œä¼šå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡ã€‚å¿…é¡»ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("Registryï¼š")]),s._v(" æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒã€‚æ³¨å†Œä¸­å¿ƒä¼šè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…ã€‚éå¿…é¡»ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("Monitorï¼š")]),s._v(" ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒã€‚æœåŠ¡æ¶ˆè´¹è€…å’Œæä¾›è€…ä¼šå®šæ—¶å‘é€ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒã€‚ éå¿…é¡»ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"dubbo-ä¸­çš„-invoker-æ¦‚å¿µäº†è§£ä¹ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo-ä¸­çš„-invoker-æ¦‚å¿µäº†è§£ä¹ˆ"}},[s._v("#")]),s._v(" Dubbo ä¸­çš„ Invoker æ¦‚å¿µäº†è§£ä¹ˆï¼Ÿ")]),s._v(" "),a("p",[a("code",[s._v("Invoker")]),s._v(" æ˜¯ Dubbo é¢†åŸŸæ¨¡å‹ä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªæ¦‚å¿µï¼Œä½ å¦‚æœé˜…è¯»è¿‡ Dubbo æºç çš„è¯ï¼Œä½ ä¼šæ— æ•°æ¬¡çœ‹åˆ°è¿™ç©æ„ã€‚å°±æ¯”å¦‚ä¸‹é¢æˆ‘è¦è¯´çš„è´Ÿè½½å‡è¡¡è¿™å—çš„æºç ä¸­å°±æœ‰å¤§é‡ "),a("code",[s._v("Invoker")]),s._v(" çš„èº«å½±ã€‚")]),s._v(" "),a("p",[s._v("ç®€å•æ¥è¯´ï¼Œ"),a("code",[s._v("Invoker")]),s._v(" å°±æ˜¯ Dubbo å¯¹è¿œç¨‹è°ƒç”¨çš„æŠ½è±¡ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/java-guide-blog/dubbo_rpc_invoke.jpg",alt:"dubbo_rpc_invoke.jpg"}})]),s._v(" "),a("p",[s._v("æŒ‰ç…§ Dubbo å®˜æ–¹çš„è¯æ¥è¯´ï¼Œ"),a("code",[s._v("Invoker")]),s._v("  åˆ†ä¸º")]),s._v(" "),a("ul",[a("li",[s._v("æœåŠ¡æä¾› "),a("code",[s._v("Invoker")])]),s._v(" "),a("li",[s._v("æœåŠ¡æ¶ˆè´¹ "),a("code",[s._v("Invoker")])])]),s._v(" "),a("p",[s._v("å‡å¦‚æˆ‘ä»¬éœ€è¦è°ƒç”¨ä¸€ä¸ªè¿œç¨‹æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦åŠ¨æ€ä»£ç†æ¥å±è”½è¿œç¨‹è°ƒç”¨çš„ç»†èŠ‚å§ï¼æˆ‘ä»¬å±è”½æ‰çš„è¿™äº›ç»†èŠ‚å°±ä¾èµ–å¯¹åº”çš„ "),a("code",[s._v("Invoker")]),s._v("  å®ç°ï¼Œ "),a("code",[s._v("Invoker")]),s._v(" å®ç°äº†çœŸæ­£çš„è¿œç¨‹æœåŠ¡è°ƒç”¨ã€‚")]),s._v(" "),a("h3",{attrs:{id:"dubbo-çš„å·¥ä½œåŸç†äº†è§£ä¹ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo-çš„å·¥ä½œåŸç†äº†è§£ä¹ˆ"}},[s._v("#")]),s._v(" Dubbo çš„å·¥ä½œåŸç†äº†è§£ä¹ˆï¼Ÿ")]),s._v(" "),a("p",[s._v("ä¸‹å›¾æ˜¯ Dubbo çš„æ•´ä½“è®¾è®¡ï¼Œä»ä¸‹è‡³ä¸Šåˆ†ä¸ºåå±‚ï¼Œå„å±‚å‡ä¸ºå•å‘ä¾èµ–ã€‚")]),s._v(" "),a("blockquote",[a("p",[s._v("å·¦è¾¹æ·¡è“èƒŒæ™¯çš„ä¸ºæœåŠ¡æ¶ˆè´¹æ–¹ä½¿ç”¨çš„æ¥å£ï¼Œå³è¾¹æ·¡ç»¿è‰²èƒŒæ™¯çš„ä¸ºæœåŠ¡æä¾›æ–¹ä½¿ç”¨çš„æ¥å£ï¼Œä½äºä¸­è½´çº¿ä¸Šçš„ä¸ºåŒæ–¹éƒ½ç”¨åˆ°çš„æ¥å£ã€‚")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/source-code/dubbo/dubbo-framework.jpg",alt:"dubbo-framework"}})]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("config é…ç½®å±‚")]),s._v("ï¼šDubboç›¸å…³çš„é…ç½®ã€‚æ”¯æŒä»£ç é…ç½®ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒåŸºäº Spring  æ¥åšé…ç½®ï¼Œä»¥ "),a("code",[s._v("ServiceConfig")]),s._v(", "),a("code",[s._v("ReferenceConfig")]),s._v(" ä¸ºä¸­å¿ƒ")]),s._v(" "),a("li",[a("strong",[s._v("proxy æœåŠ¡ä»£ç†å±‚")]),s._v("ï¼šè°ƒç”¨è¿œç¨‹æ–¹æ³•åƒè°ƒç”¨æœ¬åœ°çš„æ–¹æ³•ä¸€æ ·ç®€å•çš„ä¸€ä¸ªå…³é”®ï¼ŒçœŸå®è°ƒç”¨è¿‡ç¨‹ä¾èµ–ä»£ç†ç±»ï¼Œä»¥ "),a("code",[s._v("ServiceProxy")]),s._v(" ä¸ºä¸­å¿ƒã€‚")]),s._v(" "),a("li",[a("strong",[s._v("registry æ³¨å†Œä¸­å¿ƒå±‚")]),s._v("ï¼šå°è£…æœåŠ¡åœ°å€çš„æ³¨å†Œä¸å‘ç°ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("cluster è·¯ç”±å±‚")]),s._v("ï¼šå°è£…å¤šä¸ªæä¾›è€…çš„è·¯ç”±åŠè´Ÿè½½å‡è¡¡ï¼Œå¹¶æ¡¥æ¥æ³¨å†Œä¸­å¿ƒï¼Œä»¥ "),a("code",[s._v("Invoker")]),s._v(" ä¸ºä¸­å¿ƒã€‚")]),s._v(" "),a("li",[a("strong",[s._v("monitor ç›‘æ§å±‚")]),s._v("ï¼šRPC è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ç›‘æ§ï¼Œä»¥ "),a("code",[s._v("Statistics")]),s._v(" ä¸ºä¸­å¿ƒã€‚")]),s._v(" "),a("li",[a("strong",[s._v("protocol è¿œç¨‹è°ƒç”¨å±‚")]),s._v("ï¼šå°è£… RPC è°ƒç”¨ï¼Œä»¥ "),a("code",[s._v("Invocation")]),s._v(", "),a("code",[s._v("Result")]),s._v(" ä¸ºä¸­å¿ƒã€‚")]),s._v(" "),a("li",[a("strong",[s._v("exchange ä¿¡æ¯äº¤æ¢å±‚")]),s._v("ï¼šå°è£…è¯·æ±‚å“åº”æ¨¡å¼ï¼ŒåŒæ­¥è½¬å¼‚æ­¥ï¼Œä»¥ "),a("code",[s._v("Request")]),s._v(", "),a("code",[s._v("Response")]),s._v(" ä¸ºä¸­å¿ƒã€‚")]),s._v(" "),a("li",[a("strong",[s._v("transport ç½‘ç»œä¼ è¾“å±‚")]),s._v("ï¼šæŠ½è±¡ mina å’Œ netty ä¸ºç»Ÿä¸€æ¥å£ï¼Œä»¥ "),a("code",[s._v("Message")]),s._v(" ä¸ºä¸­å¿ƒã€‚")]),s._v(" "),a("li",[a("strong",[s._v("serialize æ•°æ®åºåˆ—åŒ–å±‚")]),s._v(" ï¼šå¯¹éœ€è¦åœ¨ç½‘ç»œä¼ è¾“çš„æ•°æ®è¿›è¡Œåºåˆ—åŒ–ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"dubbo-çš„-spi-æœºåˆ¶äº†è§£ä¹ˆ-å¦‚ä½•æ‰©å±•-dubbo-ä¸­çš„é»˜è®¤å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo-çš„-spi-æœºåˆ¶äº†è§£ä¹ˆ-å¦‚ä½•æ‰©å±•-dubbo-ä¸­çš„é»˜è®¤å®ç°"}},[s._v("#")]),s._v(" Dubbo çš„ SPI æœºåˆ¶äº†è§£ä¹ˆï¼Ÿ å¦‚ä½•æ‰©å±• Dubbo ä¸­çš„é»˜è®¤å®ç°ï¼Ÿ")]),s._v(" "),a("p",[s._v("SPIï¼ˆService Provider Interfaceï¼‰ æœºåˆ¶è¢«å¤§é‡ç”¨åœ¨å¼€æºé¡¹ç›®ä¸­ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬åŠ¨æ€å¯»æ‰¾æœåŠ¡/åŠŸèƒ½ï¼ˆæ¯”å¦‚è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼‰çš„å®ç°ã€‚")]),s._v(" "),a("p",[s._v("SPI çš„å…·ä½“åŸç†æ˜¯è¿™æ ·çš„ï¼šæˆ‘ä»¬å°†æ¥å£çš„å®ç°ç±»æ”¾åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­è¯»å–é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡åå°„åŠ è½½å®ç°ç±»ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œçš„æ—¶å€™ï¼ŒåŠ¨æ€æ›¿æ¢æ¥å£çš„å®ç°ç±»ã€‚å’Œ IoC çš„è§£è€¦æ€æƒ³æ˜¯ç±»ä¼¼çš„ã€‚")]),s._v(" "),a("p",[s._v("Java æœ¬èº«å°±æä¾›äº† SPI æœºåˆ¶çš„å®ç°ã€‚ä¸è¿‡ï¼ŒDubbo æ²¡æœ‰ç›´æ¥ç”¨ï¼Œè€Œæ˜¯å¯¹ JavaåŸç”Ÿçš„ SPIæœºåˆ¶è¿›è¡Œäº†å¢å¼ºï¼Œä»¥ä¾¿æ›´å¥½æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("é‚£æˆ‘ä»¬å¦‚ä½•æ‰©å±• Dubbo ä¸­çš„é»˜è®¤å®ç°å‘¢ï¼Ÿ")])]),s._v(" "),a("p",[s._v("æ¯”å¦‚è¯´æˆ‘ä»¬æƒ³è¦å®ç°è‡ªå·±çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œæˆ‘ä»¬åˆ›å»ºå¯¹åº”çš„å®ç°ç±» "),a("code",[s._v("XxxLoadBalance")]),s._v(" å®ç° "),a("code",[s._v("LoadBalance")]),s._v(" æ¥å£æˆ–è€… "),a("code",[s._v("AbstractLoadBalance")]),s._v(" ç±»ã€‚")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xxx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dubbo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rpc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cluster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LoadBalance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dubbo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rpc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dubbo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rpc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invocation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dubbo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rpc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n \n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("XxxLoadBalance")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LoadBalance")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invocation")]),s._v(" invocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("æˆ‘ä»¬å°†è¿™ä¸ªå®ç°ç±»çš„è·¯å¾„å†™å…¥åˆ°"),a("code",[s._v("resources")]),s._v(" ç›®å½•ä¸‹çš„ "),a("code",[s._v("META-INF/dubbo/org.apache.dubbo.rpc.cluster.LoadBalance")]),s._v("æ–‡ä»¶ä¸­å³å¯ã€‚")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("src\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("main\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("java\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("com\n            "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("xxx\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("XxxLoadBalance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("å®ç°"),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LoadBalance")]),s._v("æ¥å£"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("resources\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("META"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("INF\n            "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dubbo\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dubbo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rpc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cluster"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("LoadBalance")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("çº¯æ–‡æœ¬æ–‡ä»¶ï¼Œå†…å®¹ä¸ºï¼šxxx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xxx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),s._v("XxxLoadBalance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[a("code",[s._v("org.apache.dubbo.rpc.cluster.LoadBalance")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("xxx=com.xxx.XxxLoadBalance\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("å…¶ä»–è¿˜æœ‰å¾ˆå¤šå¯ä¾›æ‰©å±•çš„é€‰æ‹©ï¼Œä½ å¯ä»¥åœ¨"),a("a",{attrs:{href:"https://dubbo.apache.org/zh/docs/v2.7/dev/impls/",target:"_blank",rel:"noopener noreferrer"}},[s._v("å®˜æ–¹æ–‡æ¡£@SPIæ‰©å±•å®ç°"),a("OutboundLink")],1),s._v("è¿™é‡Œæ‰¾åˆ°ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210328091015555.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MzM3Mjcy,size_16,color_FFFFFF,t_70",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"dubbo-çš„å¾®å†…æ ¸æ¶æ„äº†è§£å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo-çš„å¾®å†…æ ¸æ¶æ„äº†è§£å—"}},[s._v("#")]),s._v(" Dubbo çš„å¾®å†…æ ¸æ¶æ„äº†è§£å—ï¼Ÿ")]),s._v(" "),a("p",[s._v("Dubbo é‡‡ç”¨ å¾®å†…æ ¸ï¼ˆMicrokernelï¼‰ + æ’ä»¶ï¼ˆPluginï¼‰ æ¨¡å¼ï¼Œç®€å•æ¥è¯´å°±æ˜¯å¾®å†…æ ¸æ¶æ„ã€‚å¾®å†…æ ¸åªè´Ÿè´£ç»„è£…æ’ä»¶ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("ä½•ä¸ºå¾®å†…æ ¸æ¶æ„å‘¢ï¼Ÿ")]),s._v(" ã€Šè½¯ä»¶æ¶æ„æ¨¡å¼ã€‹ è¿™æœ¬ä¹¦æ˜¯è¿™æ ·ä»‹ç»çš„ï¼š")]),s._v(" "),a("blockquote",[a("p",[s._v("å¾®å†…æ ¸æ¶æ„æ¨¡å¼ï¼ˆæœ‰æ—¶è¢«ç§°ä¸ºæ’ä»¶æ¶æ„æ¨¡å¼ï¼‰æ˜¯å®ç°åŸºäºäº§å“åº”ç”¨ç¨‹åºçš„ä¸€ç§è‡ªç„¶æ¨¡å¼ã€‚åŸºäºäº§å“çš„åº”ç”¨ç¨‹åºæ˜¯å·²ç»æ‰“åŒ…å¥½å¹¶ä¸”æ‹¥æœ‰ä¸åŒç‰ˆæœ¬ï¼Œå¯ä½œä¸ºç¬¬ä¸‰æ–¹æ’ä»¶ä¸‹è½½çš„ã€‚ç„¶åï¼Œå¾ˆå¤šå…¬å¸ä¹Ÿåœ¨å¼€å‘ã€å‘å¸ƒè‡ªå·±å†…éƒ¨å•†ä¸šåº”ç”¨åƒæœ‰ç‰ˆæœ¬å·ã€è¯´æ˜åŠå¯åŠ è½½æ’ä»¶å¼çš„åº”ç”¨è½¯ä»¶ï¼ˆè¿™ä¹Ÿæ˜¯è¿™ç§æ¨¡å¼çš„ç‰¹å¾ï¼‰ã€‚å¾®å†…æ ¸ç³»ç»Ÿå¯è®©ç”¨æˆ·æ·»åŠ é¢å¤–çš„åº”ç”¨å¦‚æ’ä»¶ï¼Œåˆ°æ ¸å¿ƒåº”ç”¨ï¼Œç»§è€Œæä¾›äº†å¯æ‰©å±•æ€§å’ŒåŠŸèƒ½åˆ†ç¦»çš„ç”¨æ³•ã€‚")])]),s._v(" "),a("p",[s._v("å¾®å†…æ ¸æ¶æ„åŒ…å«ä¸¤ç±»ç»„ä»¶ï¼š"),a("strong",[s._v("æ ¸å¿ƒç³»ç»Ÿï¼ˆcore systemï¼‰")]),s._v(" å’Œ "),a("strong",[s._v("æ’ä»¶æ¨¡å—ï¼ˆplug-in modulesï¼‰")]),s._v("ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/source-code/dubbo/å¾®å†…æ ¸æ¶æ„ç¤ºæ„å›¾.png",alt:""}})]),s._v(" "),a("p",[s._v("æ ¸å¿ƒç³»ç»Ÿæä¾›ç³»ç»Ÿæ‰€éœ€æ ¸å¿ƒèƒ½åŠ›ï¼Œæ’ä»¶æ¨¡å—å¯ä»¥æ‰©å±•ç³»ç»Ÿçš„åŠŸèƒ½ã€‚å› æ­¤ï¼Œ åŸºäºå¾®å†…æ ¸æ¶æ„çš„ç³»ç»Ÿï¼Œéå¸¸æ˜“äºæ‰©å±•åŠŸèƒ½ã€‚")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬å¸¸è§çš„ä¸€äº›IDEï¼Œéƒ½å¯ä»¥çœ‹ä½œæ˜¯åŸºäºå¾®å†…æ ¸æ¶æ„è®¾è®¡çš„ã€‚ç»å¤§å¤šæ•° IDEæ¯”å¦‚IDEAã€VSCodeéƒ½æä¾›äº†æ’ä»¶æ¥ä¸°å¯Œè‡ªå·±çš„åŠŸèƒ½ã€‚")]),s._v(" "),a("p",[s._v("æ­£æ˜¯å› ä¸ºDubboåŸºäºå¾®å†…æ ¸æ¶æ„ï¼Œæ‰ä½¿å¾—æˆ‘ä»¬å¯ä»¥éšå¿ƒæ‰€æ¬²æ›¿æ¢Dubboçš„åŠŸèƒ½ç‚¹ã€‚æ¯”å¦‚ä½ è§‰å¾—Dubbo çš„åºåˆ—åŒ–æ¨¡å—å®ç°çš„ä¸æ»¡è¶³è‡ªå·±è¦æ±‚ï¼Œæ²¡å…³ç³»å•Šï¼ä½ è‡ªå·±å®ç°ä¸€ä¸ªåºåˆ—åŒ–æ¨¡å—å°±å¥½äº†å•Šï¼")]),s._v(" "),a("p",[s._v("é€šå¸¸æƒ…å†µä¸‹ï¼Œå¾®æ ¸å¿ƒéƒ½ä¼šé‡‡ç”¨ Factoryã€IoCã€OSGi ç­‰æ–¹å¼ç®¡ç†æ’ä»¶ç”Ÿå‘½å‘¨æœŸã€‚Dubbo ä¸æƒ³ä¾èµ– Spring ç­‰ IoC å®¹å™¨ï¼Œä¹Ÿä¸æƒ³è‡ªå·±é€ ä¸€ä¸ªå°çš„ IoC å®¹å™¨ï¼ˆè¿‡åº¦è®¾è®¡ï¼‰ï¼Œå› æ­¤é‡‡ç”¨äº†ä¸€ç§æœ€ç®€å•çš„ Factory æ–¹å¼ç®¡ç†æ’ä»¶ ï¼š"),a("strong",[s._v("JDK æ ‡å‡†çš„ SPI æ‰©å±•æœºåˆ¶")]),s._v(" ï¼ˆ"),a("code",[s._v("java.util.ServiceLoader")]),s._v("ï¼‰ã€‚")]),s._v(" "),a("h3",{attrs:{id:"å…³äºdubboæ¶æ„çš„ä¸€äº›è‡ªæµ‹å°é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºdubboæ¶æ„çš„ä¸€äº›è‡ªæµ‹å°é—®é¢˜"}},[s._v("#")]),s._v(" å…³äºDubboæ¶æ„çš„ä¸€äº›è‡ªæµ‹å°é—®é¢˜")]),s._v(" "),a("h4",{attrs:{id:"æ³¨å†Œä¸­å¿ƒçš„ä½œç”¨äº†è§£ä¹ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œä¸­å¿ƒçš„ä½œç”¨äº†è§£ä¹ˆ"}},[s._v("#")]),s._v(" æ³¨å†Œä¸­å¿ƒçš„ä½œç”¨äº†è§£ä¹ˆï¼Ÿ")]),s._v(" "),a("p",[s._v("æ³¨å†Œä¸­å¿ƒè´Ÿè´£æœåŠ¡åœ°å€çš„æ³¨å†Œä¸æŸ¥æ‰¾ï¼Œç›¸å½“äºç›®å½•æœåŠ¡ï¼ŒæœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…åªåœ¨å¯åŠ¨æ—¶ä¸æ³¨å†Œä¸­å¿ƒäº¤äº’ã€‚")]),s._v(" "),a("h4",{attrs:{id:"æœåŠ¡æä¾›è€…å®•æœºå-æ³¨å†Œä¸­å¿ƒä¼šåšä»€ä¹ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡æä¾›è€…å®•æœºå-æ³¨å†Œä¸­å¿ƒä¼šåšä»€ä¹ˆ"}},[s._v("#")]),s._v(" æœåŠ¡æä¾›è€…å®•æœºåï¼Œæ³¨å†Œä¸­å¿ƒä¼šåšä»€ä¹ˆï¼Ÿ")]),s._v(" "),a("p",[s._v("æ³¨å†Œä¸­å¿ƒä¼šç«‹å³æ¨é€äº‹ä»¶é€šçŸ¥æ¶ˆè´¹è€…ã€‚")]),s._v(" "),a("h4",{attrs:{id:"ç›‘æ§ä¸­å¿ƒçš„ä½œç”¨å‘¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘æ§ä¸­å¿ƒçš„ä½œç”¨å‘¢"}},[s._v("#")]),s._v(" ç›‘æ§ä¸­å¿ƒçš„ä½œç”¨å‘¢ï¼Ÿ")]),s._v(" "),a("p",[s._v("ç›‘æ§ä¸­å¿ƒè´Ÿè´£ç»Ÿè®¡å„æœåŠ¡è°ƒç”¨æ¬¡æ•°ï¼Œè°ƒç”¨æ—¶é—´ç­‰ã€‚")]),s._v(" "),a("h4",{attrs:{id:"æ³¨å†Œä¸­å¿ƒå’Œç›‘æ§ä¸­å¿ƒéƒ½å®•æœºçš„è¯-æœåŠ¡éƒ½ä¼šæŒ‚æ‰å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œä¸­å¿ƒå’Œç›‘æ§ä¸­å¿ƒéƒ½å®•æœºçš„è¯-æœåŠ¡éƒ½ä¼šæŒ‚æ‰å—"}},[s._v("#")]),s._v(" æ³¨å†Œä¸­å¿ƒå’Œç›‘æ§ä¸­å¿ƒéƒ½å®•æœºçš„è¯ï¼ŒæœåŠ¡éƒ½ä¼šæŒ‚æ‰å—ï¼Ÿ")]),s._v(" "),a("p",[s._v("ä¸ä¼šã€‚ä¸¤è€…éƒ½å®•æœºä¹Ÿä¸å½±å“å·²è¿è¡Œçš„æä¾›è€…å’Œæ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…åœ¨æœ¬åœ°ç¼“å­˜äº†æä¾›è€…åˆ—è¡¨ã€‚æ³¨å†Œä¸­å¿ƒå’Œç›‘æ§ä¸­å¿ƒéƒ½æ˜¯å¯é€‰çš„ï¼ŒæœåŠ¡æ¶ˆè´¹è€…å¯ä»¥ç›´è¿æœåŠ¡æä¾›è€…ã€‚")]),s._v(" "),a("h2",{attrs:{id:"dubbo-çš„è´Ÿè½½å‡è¡¡ç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo-çš„è´Ÿè½½å‡è¡¡ç­–ç•¥"}},[s._v("#")]),s._v(" Dubbo çš„è´Ÿè½½å‡è¡¡ç­–ç•¥")]),s._v(" "),a("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯è´Ÿè½½å‡è¡¡ï¼Ÿ")]),s._v(" "),a("p",[s._v("å…ˆæ¥çœ‹ä¸€ä¸‹ç¨å¾®å®˜æ–¹ç‚¹çš„è§£é‡Šã€‚ä¸‹é¢è¿™æ®µè¯æ‘˜è‡ªç»´åŸºç™¾ç§‘å¯¹è´Ÿè½½å‡è¡¡çš„å®šä¹‰ï¼š")]),s._v(" "),a("blockquote",[a("p",[s._v("è´Ÿè½½å‡è¡¡æ”¹å–„äº†è·¨å¤šä¸ªè®¡ç®—èµ„æºï¼ˆä¾‹å¦‚è®¡ç®—æœºï¼Œè®¡ç®—æœºé›†ç¾¤ï¼Œç½‘ç»œé“¾æ¥ï¼Œä¸­å¤®å¤„ç†å•å…ƒæˆ–ç£ç›˜é©±åŠ¨ï¼‰çš„å·¥ä½œè´Ÿè½½åˆ†å¸ƒã€‚è´Ÿè½½å¹³è¡¡æ—¨åœ¨ä¼˜åŒ–èµ„æºä½¿ç”¨ï¼Œæœ€å¤§åŒ–ååé‡ï¼Œæœ€å°åŒ–å“åº”æ—¶é—´ï¼Œå¹¶é¿å…ä»»ä½•å•ä¸ªèµ„æºçš„è¿‡è½½ã€‚ä½¿ç”¨å…·æœ‰è´Ÿè½½å¹³è¡¡è€Œä¸æ˜¯å•ä¸ªç»„ä»¶çš„å¤šä¸ªç»„ä»¶å¯ä»¥é€šè¿‡å†—ä½™æé«˜å¯é æ€§å’Œå¯ç”¨æ€§ã€‚è´Ÿè½½å¹³è¡¡é€šå¸¸æ¶‰åŠä¸“ç”¨è½¯ä»¶æˆ–ç¡¬ä»¶ã€‚")])]),s._v(" "),a("p",[a("strong",[s._v("ä¸Šé¢è®²çš„å¤§å®¶å¯èƒ½ä¸å¤ªå¥½ç†è§£ï¼Œå†ç”¨é€šä¿—çš„è¯ç»™å¤§å®¶è¯´ä¸€ä¸‹ã€‚")])]),s._v(" "),a("p",[s._v("æˆ‘ä»¬çš„ç³»ç»Ÿä¸­çš„æŸä¸ªæœåŠ¡çš„è®¿é—®é‡ç‰¹åˆ«å¤§ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªæœåŠ¡éƒ¨ç½²åœ¨äº†å¤šå°æœåŠ¡å™¨ä¸Šï¼Œå½“å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚çš„æ—¶å€™ï¼Œå¤šå°æœåŠ¡å™¨éƒ½å¯ä»¥å¤„ç†è¿™ä¸ªè¯·æ±‚ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•æ­£ç¡®é€‰æ‹©å¤„ç†è¯¥è¯·æ±‚çš„æœåŠ¡å™¨å°±å¾ˆå…³é”®ã€‚å‡å¦‚ï¼Œä½ å°±è¦ä¸€å°æœåŠ¡å™¨æ¥å¤„ç†è¯¥æœåŠ¡çš„è¯·æ±‚ï¼Œé‚£è¯¥æœåŠ¡éƒ¨ç½²åœ¨å¤šå°æœåŠ¡å™¨çš„æ„ä¹‰å°±ä¸å¤å­˜åœ¨äº†ã€‚è´Ÿè½½å‡è¡¡å°±æ˜¯ä¸ºäº†é¿å…å•ä¸ªæœåŠ¡å™¨å“åº”åŒä¸€è¯·æ±‚ï¼Œå®¹æ˜“é€ æˆæœåŠ¡å™¨å®•æœºã€å´©æºƒç­‰é—®é¢˜ï¼Œæˆ‘ä»¬ä»è´Ÿè½½å‡è¡¡çš„è¿™å››ä¸ªå­—å°±èƒ½æ˜æ˜¾æ„Ÿå—åˆ°å®ƒçš„æ„ä¹‰ã€‚")]),s._v(" "),a("h3",{attrs:{id:"dubbo-æä¾›çš„è´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰å“ªäº›"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo-æä¾›çš„è´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰å“ªäº›"}},[s._v("#")]),s._v(" Dubbo æä¾›çš„è´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ")]),s._v(" "),a("p",[s._v("åœ¨é›†ç¾¤è´Ÿè½½å‡è¡¡æ—¶ï¼ŒDubbo æä¾›äº†å¤šç§å‡è¡¡ç­–ç•¥ï¼Œé»˜è®¤ä¸º "),a("code",[s._v("random")]),s._v(" éšæœºè°ƒç”¨ã€‚æˆ‘ä»¬è¿˜å¯ä»¥è‡ªè¡Œæ‰©å±•è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ˆå‚è€ƒDubbo SPIæœºåˆ¶ï¼‰ã€‚")]),s._v(" "),a("p",[s._v("åœ¨ Dubbo ä¸­ï¼Œæ‰€æœ‰è´Ÿè½½å‡è¡¡å®ç°ç±»å‡ç»§æ‰¿è‡ª "),a("code",[s._v("AbstractLoadBalance")]),s._v("ï¼Œè¯¥ç±»å®ç°äº† "),a("code",[s._v("LoadBalance")]),s._v(" æ¥å£ï¼Œå¹¶å°è£…äº†ä¸€äº›å…¬å…±çš„é€»è¾‘ã€‚")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("abstract")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractLoadBalance")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LoadBalance")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("calculateWarmupWeight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" uptime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" warmup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" weight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URL")]),s._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invocation")]),s._v(" invocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("abstract")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("doSelect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URL")]),s._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invocation")]),s._v(" invocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getWeight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" invoker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invocation")]),s._v(" invocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[a("code",[s._v("AbstractLoadBalance")]),s._v(" çš„å®ç°ç±»æœ‰ä¸‹é¢è¿™äº›ï¼š")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/java-guide-blog/image-20210326105257812.png",alt:""}})]),s._v(" "),a("p",[s._v("å®˜æ–¹æ–‡æ¡£å¯¹è´Ÿè½½å‡è¡¡è¿™éƒ¨åˆ†çš„ä»‹ç»éå¸¸è¯¦ç»†ï¼Œæ¨èå°ä¼™ä¼´ä»¬çœ‹çœ‹ï¼Œåœ°å€ï¼š"),a("a",{attrs:{href:"https://dubbo.apache.org/zh/docs/v2.7/dev/source/loadbalance/#m-zhdocsv27devsourceloadbalance",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://dubbo.apache.org/zh/docs/v2.7/dev/source/loadbalance/#m-zhdocsv27devsourceloadbalance"),a("OutboundLink")],1),s._v(" ã€‚")]),s._v(" "),a("h4",{attrs:{id:"randomloadbalance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#randomloadbalance"}},[s._v("#")]),s._v(" RandomLoadBalance")]),s._v(" "),a("p",[s._v("æ ¹æ®æƒé‡éšæœºé€‰æ‹©ï¼ˆå¯¹åŠ æƒéšæœºç®—æ³•çš„å®ç°ï¼‰ã€‚è¿™æ˜¯Dubboé»˜è®¤é‡‡ç”¨çš„ä¸€ç§è´Ÿè½½å‡è¡¡ç­–ç•¥ã€‚")]),s._v(" "),a("p",[a("code",[s._v("RandomLoadBalance")]),s._v(" å…·ä½“çš„å®ç°åŸç†éå¸¸ç®€å•ï¼Œå‡å¦‚æœ‰ä¸¤ä¸ªæä¾›ç›¸åŒæœåŠ¡çš„æœåŠ¡å™¨ S1,S2ï¼ŒS1çš„æƒé‡ä¸º7ï¼ŒS2çš„æƒé‡ä¸º3ã€‚")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬æŠŠè¿™äº›æƒé‡å€¼åˆ†å¸ƒåœ¨åæ ‡åŒºé—´ä¼šå¾—åˆ°ï¼šS1->[0, 7) ï¼ŒS2->[7, 10)ã€‚æˆ‘ä»¬ç”Ÿæˆ[0, 10) ä¹‹é—´çš„éšæœºæ•°ï¼Œéšæœºæ•°è½åˆ°å¯¹åº”çš„åŒºé—´ï¼Œæˆ‘ä»¬å°±é€‰æ‹©å¯¹åº”çš„æœåŠ¡å™¨æ¥å¤„ç†è¯·æ±‚ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/java-guide-blog/ RandomLoadBalance.png",alt:"RandomLoadBalance"}})]),s._v(" "),a("p",[a("code",[s._v("RandomLoadBalance")]),s._v(" çš„æºç éå¸¸ç®€å•ï¼Œç®€å•èŠ±å‡ åˆ†é’Ÿæ—¶é—´çœ‹ä¸€ä¸‹ã€‚")]),s._v(" "),a("blockquote",[a("p",[s._v("ä»¥ä¸‹æºç æ¥è‡ª Dubbo master åˆ†æ”¯ä¸Šçš„æœ€æ–°çš„ç‰ˆæœ¬ 2.7.9ã€‚")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RandomLoadBalance")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractLoadBalance")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" NAME "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"random"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("doSelect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URL")]),s._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invocation")]),s._v(" invocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" length "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" sameWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" weights "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" totalWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸‹é¢è¿™ä¸ªforå¾ªç¯çš„ä¸»è¦ä½œç”¨å°±æ˜¯è®¡ç®—æ‰€æœ‰è¯¥æœåŠ¡çš„æä¾›è€…çš„æƒé‡ä¹‹å’Œ totalWeightï¼ˆï¼‰ï¼Œ")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜ä¼šæ£€æµ‹æ¯ä¸ªæœåŠ¡æä¾›è€…çš„æƒé‡æ˜¯å¦ç›¸åŒ")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" weight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getWeight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" invocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            totalWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" weight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            weights"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" totalWeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sameWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" totalWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" weight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                sameWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("totalWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("sameWeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// éšæœºç”Ÿæˆä¸€ä¸ª [0, totalWeight) åŒºé—´å†…çš„æ•°å­—")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" offset "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadLocalRandom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("current")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nextInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("totalWeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆ¤æ–­ä¼šè½åœ¨å“ªä¸ªæœåŠ¡æä¾›è€…çš„åŒºé—´")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("offset "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" weights"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  \n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadLocalRandom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("current")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nextInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("h4",{attrs:{id:"leastactiveloadbalance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#leastactiveloadbalance"}},[s._v("#")]),s._v(" LeastActiveLoadBalance")]),s._v(" "),a("p",[a("code",[s._v("LeastActiveLoadBalance")]),s._v(" ç›´è¯‘è¿‡æ¥å°±æ˜¯"),a("strong",[s._v("æœ€å°æ´»è·ƒæ•°è´Ÿè½½å‡è¡¡")]),s._v("ã€‚")]),s._v(" "),a("p",[s._v("è¿™ä¸ªåå­—èµ·å¾—æœ‰ç‚¹ä¸ç›´è§‚ï¼Œä¸ä»”ç»†çœ‹å®˜æ–¹å¯¹æ´»è·ƒæ•°çš„å®šä¹‰ï¼Œä½ å‹æ ¹ä¸çŸ¥é“è¿™ç©æ„æ˜¯å¹²å˜›çš„ã€‚")]),s._v(" "),a("p",[s._v("æˆ‘è¿™ä¹ˆè¯´å§ï¼åˆå§‹çŠ¶æ€ä¸‹æ‰€æœ‰æœåŠ¡æä¾›è€…çš„æ´»è·ƒæ•°å‡ä¸º 0ï¼ˆæ¯ä¸ªæœåŠ¡æä¾›è€…çš„ä¸­ç‰¹å®šæ–¹æ³•éƒ½å¯¹åº”ä¸€ä¸ªæ´»è·ƒæ•°ï¼Œæˆ‘åœ¨åé¢çš„æºç ä¸­ä¼šæåˆ°ï¼‰ï¼Œæ¯æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚åï¼Œå¯¹åº”çš„æœåŠ¡æä¾›è€…çš„æ´»è·ƒæ•° +1ï¼Œå½“è¿™ä¸ªè¯·æ±‚å¤„ç†å®Œä¹‹åï¼Œæ´»è·ƒæ•° -1ã€‚")]),s._v(" "),a("p",[s._v("å› æ­¤ï¼Œ"),a("strong",[s._v("Dubbo å°±è®¤ä¸ºè°çš„æ´»è·ƒæ•°è¶Šå°‘ï¼Œè°çš„å¤„ç†é€Ÿåº¦å°±è¶Šå¿«ï¼Œæ€§èƒ½ä¹Ÿè¶Šå¥½ï¼Œè¿™æ ·çš„è¯ï¼Œæˆ‘å°±ä¼˜å…ˆæŠŠè¯·æ±‚ç»™æ´»è·ƒæ•°å°‘çš„æœåŠ¡æä¾›è€…å¤„ç†ã€‚")])]),s._v(" "),a("p",[a("strong",[s._v("å¦‚æœæœ‰å¤šä¸ªæœåŠ¡æä¾›è€…çš„æ´»è·ƒæ•°ç›¸ç­‰æ€ä¹ˆåŠï¼Ÿ")])]),s._v(" "),a("p",[s._v("å¾ˆç®€å•ï¼Œé‚£å°±å†èµ°ä¸€é  "),a("code",[s._v("RandomLoadBalance")]),s._v(" ã€‚")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LeastActiveLoadBalance")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractLoadBalance")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" NAME "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"leastactive"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("doSelect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URL")]),s._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invocation")]),s._v(" invocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" length "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" leastActive "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" leastCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" leastIndexes "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" weights "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" totalWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" firstWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("boolean")]),s._v(" sameWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿™ä¸ª for å¾ªç¯çš„ä¸»è¦ä½œç”¨æ˜¯éå† invokers åˆ—è¡¨ï¼Œæ‰¾å‡ºæ´»è·ƒæ•°æœ€å°çš„ Invoker")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœæœ‰å¤šä¸ª Invoker å…·æœ‰ç›¸åŒçš„æœ€å°æ´»è·ƒæ•°ï¼Œè¿˜ä¼šè®°å½•ä¸‹è¿™äº› Invoker åœ¨ invokers é›†åˆä¸­çš„ä¸‹æ ‡ï¼Œå¹¶ç´¯åŠ å®ƒä»¬çš„æƒé‡ï¼Œæ¯”è¾ƒå®ƒä»¬çš„æƒé‡å€¼æ˜¯å¦ç›¸ç­‰")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Invoker")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" invoker "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å– invoker å¯¹åº”çš„æ´»è·ƒ(active)æ•°")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" active "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("invoker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUrl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" invocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMethodName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getActive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" afterWarmup "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getWeight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("invoker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" invocation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            weights"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" afterWarmup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("leastActive "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" active "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" leastActive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                leastActive "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" active"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                leastCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                leastIndexes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                totalWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" afterWarmup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                firstWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" afterWarmup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                sameWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("active "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" leastActive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                leastIndexes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("leastCount"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                totalWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" afterWarmup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sameWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" afterWarmup "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" firstWeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    sameWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœåªæœ‰ä¸€ä¸ª Invoker å…·æœ‰æœ€å°çš„æ´»è·ƒæ•°ï¼Œæ­¤æ—¶ç›´æ¥è¿”å›è¯¥ Invoker å³å¯")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("leastCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("leastIndexes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœæœ‰å¤šä¸ª Invoker å…·æœ‰ç›¸åŒçš„æœ€å°æ´»è·ƒæ•°ï¼Œä½†å®ƒä»¬ä¹‹é—´çš„æƒé‡ä¸åŒ")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¿™é‡Œçš„å¤„ç†æ–¹å¼å°±å’Œ  RandomLoadBalance ä¸€è‡´äº†")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("sameWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" totalWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" offsetWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadLocalRandom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("current")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nextInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("totalWeight"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" leastCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" leastIndex "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" leastIndexes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                offsetWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-=")]),s._v(" weights"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("leastIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("offsetWeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("leastIndex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" invokers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("leastIndexes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ThreadLocalRandom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("current")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nextInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("leastCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br")])]),a("p",[s._v("æ´»è·ƒæ•°æ˜¯é€šè¿‡ "),a("code",[s._v("RpcStatus")]),s._v(" ä¸­çš„ä¸€ä¸ª "),a("code",[s._v("ConcurrentMap")]),s._v(" ä¿å­˜çš„ï¼Œæ ¹æ® URL ä»¥åŠæœåŠ¡æä¾›è€…è¢«è°ƒç”¨çš„æ–¹æ³•çš„åç§°ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥è·å–åˆ°å¯¹åº”çš„æ´»è·ƒæ•°ã€‚ä¹Ÿå°±æ˜¯è¯´æœåŠ¡æä¾›è€…ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•çš„æ´»è·ƒæ•°éƒ½æ˜¯äº’ç›¸ç‹¬ç«‹çš„ã€‚")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcStatus")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConcurrentMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConcurrentMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" METHOD_STATISTICS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConcurrentHashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConcurrentMap")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcStatus")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("URL")]),s._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" methodName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" uri "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("toIdentityString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConcurrentMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" map "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" METHOD_STATISTICS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("computeIfAbsent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("uri"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" k "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ConcurrentHashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("computeIfAbsent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("methodName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" k "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RpcStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getActive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" active"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h4",{attrs:{id:"consistenthashloadbalance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#consistenthashloadbalance"}},[s._v("#")]),s._v(" ConsistentHashLoadBalance")]),s._v(" "),a("p",[a("code",[s._v("ConsistentHashLoadBalance")]),s._v("  å°ä¼™ä¼´ä»¬åº”è¯¥ä¹Ÿä¸ä¼šé™Œç”Ÿï¼Œåœ¨åˆ†åº“åˆ†è¡¨ã€å„ç§é›†ç¾¤ä¸­å°±ç»å¸¸ä½¿ç”¨è¿™ä¸ªè´Ÿè½½å‡è¡¡ç­–ç•¥ã€‚")]),s._v(" "),a("p",[a("code",[s._v("ConsistentHashLoadBalance")]),s._v(" å³"),a("strong",[s._v("ä¸€è‡´æ€§Hashè´Ÿè½½å‡è¡¡ç­–ç•¥")]),s._v("ã€‚ "),a("code",[s._v("ConsistentHashLoadBalance")]),s._v(" ä¸­æ²¡æœ‰æƒé‡çš„æ¦‚å¿µï¼Œå…·ä½“æ˜¯å“ªä¸ªæœåŠ¡æä¾›è€…å¤„ç†è¯·æ±‚æ˜¯ç”±ä½ çš„è¯·æ±‚çš„å‚æ•°å†³å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ç›¸åŒå‚æ•°çš„è¯·æ±‚æ€»æ˜¯å‘åˆ°åŒä¸€ä¸ªæœåŠ¡æä¾›è€…ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/java-guide-blog/consistent-hash-data-incline.jpg",alt:""}})]),s._v(" "),a("p",[s._v("å¦å¤–ï¼ŒDubbo ä¸ºäº†é¿å…æ•°æ®å€¾æ–œé—®é¢˜ï¼ˆèŠ‚ç‚¹ä¸å¤Ÿåˆ†æ•£ï¼Œå¤§é‡è¯·æ±‚è½åˆ°åŒä¸€èŠ‚ç‚¹ï¼‰ï¼Œè¿˜å¼•å…¥äº†è™šæ‹ŸèŠ‚ç‚¹çš„æ¦‚å¿µã€‚é€šè¿‡è™šæ‹ŸèŠ‚ç‚¹å¯ä»¥è®©èŠ‚ç‚¹æ›´åŠ åˆ†æ•£ï¼Œæœ‰æ•ˆå‡è¡¡å„ä¸ªèŠ‚ç‚¹çš„è¯·æ±‚é‡ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://guide-blog-images.oss-cn-shenzhen.aliyuncs.com/java-guide-blog/consistent-hash-invoker.jpg",alt:""}})]),s._v(" "),a("p",[s._v("å®˜æ–¹æœ‰è¯¦ç»†çš„æºç åˆ†æï¼š"),a("a",{attrs:{href:"https://dubbo.apache.org/zh/docs/v2.7/dev/source/loadbalance/#23-consistenthashloadbalance",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://dubbo.apache.org/zh/docs/v2.7/dev/source/loadbalance/#23-consistenthashloadbalance"),a("OutboundLink")],1),s._v(" ã€‚è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªç›¸å…³çš„ "),a("a",{attrs:{href:"https://github.com/apache/dubbo/pull/5440",target:"_blank",rel:"noopener noreferrer"}},[s._v("PR#5440"),a("OutboundLink")],1),s._v(" æ¥ä¿®å¤è€ç‰ˆæœ¬ä¸­ ConsistentHashLoadBalance å­˜åœ¨çš„ä¸€äº›Bugã€‚æ„Ÿå…´è¶£çš„å°ä¼™ä¼´ï¼Œå¯ä»¥å¤šèŠ±ç‚¹æ—¶é—´ç ”ç©¶ä¸€ä¸‹ã€‚æˆ‘è¿™é‡Œä¸å¤šåˆ†æäº†ï¼Œè¿™ä¸ªä½œä¸šç•™ç»™ä½ ä»¬ï¼")]),s._v(" "),a("h4",{attrs:{id:"roundrobinloadbalance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#roundrobinloadbalance"}},[s._v("#")]),s._v(" RoundRobinLoadBalance")]),s._v(" "),a("p",[s._v("åŠ æƒè½®è¯¢è´Ÿè½½å‡è¡¡ã€‚")]),s._v(" "),a("p",[s._v("è½®è¯¢å°±æ˜¯æŠŠè¯·æ±‚ä¾æ¬¡åˆ†é…ç»™æ¯ä¸ªæœåŠ¡æä¾›è€…ã€‚åŠ æƒè½®è¯¢å°±æ˜¯åœ¨è½®è¯¢çš„åŸºç¡€ä¸Šï¼Œè®©æ›´å¤šçš„è¯·æ±‚è½åˆ°æƒé‡æ›´å¤§çš„æœåŠ¡æä¾›è€…ä¸Šã€‚æ¯”å¦‚å‡å¦‚æœ‰ä¸¤ä¸ªæä¾›ç›¸åŒæœåŠ¡çš„æœåŠ¡å™¨ S1,S2ï¼ŒS1çš„æƒé‡ä¸º7ï¼ŒS2çš„æƒé‡ä¸º3ã€‚")]),s._v(" "),a("p",[s._v("å¦‚æœæˆ‘ä»¬æœ‰ 10 æ¬¡è¯·æ±‚ï¼Œé‚£ä¹ˆ  7 æ¬¡ä¼šè¢« S1å¤„ç†ï¼Œ3æ¬¡è¢« S2å¤„ç†ã€‚")]),s._v(" "),a("p",[s._v("ä½†æ˜¯ï¼Œå¦‚æœæ˜¯ "),a("code",[s._v("RandomLoadBalance")]),s._v(" çš„è¯ï¼Œå¾ˆå¯èƒ½å­˜åœ¨10æ¬¡è¯·æ±‚æœ‰9æ¬¡éƒ½è¢« S1 å¤„ç†çš„æƒ…å†µï¼ˆæ¦‚ç‡æ€§é—®é¢˜ï¼‰ã€‚")]),s._v(" "),a("p",[s._v("Dubbo ä¸­çš„ "),a("code",[s._v("RoundRobinLoadBalance")]),s._v(" çš„ä»£ç å®ç°è¢«ä¿®æ”¹é‡å»ºäº†å¥½å‡ æ¬¡ï¼ŒDubbo-2.6.5 ç‰ˆæœ¬çš„ "),a("code",[s._v("RoundRobinLoadBalance")]),s._v(" ä¸ºå¹³æ»‘åŠ æƒè½®è¯¢ç®—æ³•ã€‚")]),s._v(" "),a("h2",{attrs:{id:"dubboåºåˆ—åŒ–åè®®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubboåºåˆ—åŒ–åè®®"}},[s._v("#")]),s._v(" Dubboåºåˆ—åŒ–åè®®")]),s._v(" "),a("h3",{attrs:{id:"dubbo-æ”¯æŒå“ªäº›åºåˆ—åŒ–æ–¹å¼å‘¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dubbo-æ”¯æŒå“ªäº›åºåˆ—åŒ–æ–¹å¼å‘¢"}},[s._v("#")]),s._v(" Dubbo æ”¯æŒå“ªäº›åºåˆ—åŒ–æ–¹å¼å‘¢ï¼Ÿ")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210328092219640.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MzM3Mjcy,size_16,color_FFFFFF,t_70",alt:""}})]),s._v(" "),a("p",[s._v("Dubbo æ”¯æŒå¤šç§åºåˆ—åŒ–æ–¹å¼ï¼šJDKè‡ªå¸¦çš„åºåˆ—åŒ–ã€hessian2ã€JSONã€Kryoã€FSTã€Protostuffï¼ŒProtoBufç­‰ç­‰ã€‚")]),s._v(" "),a("p",[s._v("Dubbo é»˜è®¤ä½¿ç”¨çš„åºåˆ—åŒ–æ–¹å¼æ˜¯ hession2ã€‚")]),s._v(" "),a("h3",{attrs:{id:"è°ˆè°ˆä½ å¯¹è¿™äº›åºåˆ—åŒ–åè®®äº†è§£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è°ˆè°ˆä½ å¯¹è¿™äº›åºåˆ—åŒ–åè®®äº†è§£"}},[s._v("#")]),s._v(" è°ˆè°ˆä½ å¯¹è¿™äº›åºåˆ—åŒ–åè®®äº†è§£ï¼Ÿ")]),s._v(" "),a("p",[s._v("ä¸€èˆ¬æˆ‘ä»¬ä¸ä¼šç›´æ¥ä½¿ç”¨ JDK è‡ªå¸¦çš„åºåˆ—åŒ–æ–¹å¼ã€‚ä¸»è¦åŸå› æœ‰ä¸¤ä¸ªï¼š")]),s._v(" "),a("ol",[a("li",[a("strong",[s._v("ä¸æ”¯æŒè·¨è¯­è¨€è°ƒç”¨")]),s._v(" : å¦‚æœè°ƒç”¨çš„æ˜¯å…¶ä»–è¯­è¨€å¼€å‘çš„æœåŠ¡çš„æ—¶å€™å°±ä¸æ”¯æŒäº†ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("æ€§èƒ½å·®")]),s._v(" ï¼šç›¸æ¯”äºå…¶ä»–åºåˆ—åŒ–æ¡†æ¶æ€§èƒ½æ›´ä½ï¼Œä¸»è¦åŸå› æ˜¯åºåˆ—åŒ–ä¹‹åçš„å­—èŠ‚æ•°ç»„ä½“ç§¯è¾ƒå¤§ï¼Œå¯¼è‡´ä¼ è¾“æˆæœ¬åŠ å¤§ã€‚")])]),s._v(" "),a("p",[s._v("JSON åºåˆ—åŒ–ç”±äºæ€§èƒ½é—®é¢˜ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¹Ÿä¸ä¼šè€ƒè™‘ä½¿ç”¨ã€‚")]),s._v(" "),a("p",[s._v("åƒ Protostuffï¼ŒProtoBufã€hessian2è¿™äº›éƒ½æ˜¯è·¨è¯­è¨€çš„åºåˆ—åŒ–æ–¹å¼ï¼Œå¦‚æœæœ‰è·¨è¯­è¨€éœ€æ±‚çš„è¯å¯ä»¥è€ƒè™‘ä½¿ç”¨ã€‚")]),s._v(" "),a("p",[s._v("Kryoå’ŒFSTè¿™ä¸¤ç§åºåˆ—åŒ–æ–¹å¼æ˜¯ Dubbo åæ¥æ‰å¼•å…¥çš„ï¼Œæ€§èƒ½éå¸¸å¥½ã€‚ä¸è¿‡ï¼Œè¿™ä¸¤è€…éƒ½æ˜¯ä¸“é—¨é’ˆå¯¹ Java è¯­è¨€çš„ã€‚Dubbo å®˜ç½‘çš„ä¸€ç¯‡æ–‡ç« ä¸­æåˆ°è¯´æ¨èä½¿ç”¨ Kryo ä½œä¸ºç”Ÿäº§ç¯å¢ƒçš„åºåˆ—åŒ–æ–¹å¼ã€‚(æ–‡ç« åœ°å€ï¼š"),a("a",{attrs:{href:"https://dubbo.apache.org/zh/docs/v2.7/user/references/protocol/rest/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://dubbo.apache.org/zh/docs/v2.7/user/references/protocol/rest/"),a("OutboundLink")],1),s._v(")")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://my-blog-to-use.oss-cn-beijing.aliyuncs.com/2020-8/569e541a-22b2-4846-aa07-0ad479f07440.png",alt:""}})]),s._v(" "),a("p",[s._v("Dubbo å®˜æ–¹æ–‡æ¡£ä¸­è¿˜æœ‰ä¸€ä¸ªå…³äºè¿™äº›"),a("a",{attrs:{href:"https://dubbo.apache.org/zh/docs/v2.7/user/serialization/#m-zhdocsv27userserialization",target:"_blank",rel:"noopener noreferrer"}},[s._v("åºåˆ—åŒ–åè®®çš„æ€§èƒ½å¯¹æ¯”å›¾"),a("OutboundLink")],1),s._v("å¯ä¾›å‚è€ƒã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210328093219609.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM0MzM3Mjcy,size_16,color_FFFFFF,t_70",alt:""}})])])}),[],!1,null,null,null);t.default=e.exports}}]);